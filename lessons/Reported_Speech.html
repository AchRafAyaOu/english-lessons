    <header>
            <h1>الكلام المنقول - Reported Speech</h1>
            <p>تعلم كيفية تحويل الكلام المباشر إلى كلام غير مباشر بطريقة صحيحة وواضحة | Learn how to convert Direct Speech into Reported Speech correctly and clearly</p>
            <div class="progress-bar" aria-label="شريط تقدم التمرين">
                <div class="progress-fill" id="progressBar"></div>
            </div>
        </header>

        <!-- الفرق بين الكلام المباشر والمنقول -->
        <section aria-labelledby="section-direct-vs-reported">
            <h2 id="section-direct-vs-reported" class="section-title">💭 Direct vs. Reported Speech | الكلام المباشر مقابل الكلام المنقول</h2>
            <div class="bilingual-flex">
                <article class="speech-card lang-en lang-block" tabindex="0" aria-label="Direct Speech Explanation">
                    <h3 class="speech-title">Direct Speech</h3>
                    <div class="example-box">
                        <strong>Examples:</strong>
                        <p>• She said, "I am tired."</p>
                        <p>• He asked, "Where are you going?"</p>
                        <p>• They said, "We will come tomorrow."</p>
                    </div>
                    <p><strong>Features:</strong></p>
                    <ul>
                        <li>Uses quotation marks</li>
                        <li>Exact words are reported</li>
                        <li>Present tense reporting</li>
                    </ul>
                    <p>In direct speech, the exact words of the speaker are quoted, usually inside quotation marks.</p>
                </article>

                <article class="speech-card reported lang-ar lang-block" tabindex="0" aria-label="شرح الكلام المنقول">
                    <h3 class="speech-title reported">الكلام المنقول</h3>
                    <div class="example-box">
                        <strong>أمثلة:</strong>
                        <p>• قالت إنها متعبة.</p>
                        <p>• سأل إلى أين كنت ذاهباً.</p>
                        <p>• قالوا إنهم سيأتون في اليوم التالي.</p>
                    </div>
                    <ul>
                        <li>لا يستخدم علامات تنصيص</li>
                        <li>كلمات معاد صياغتها</li>
                        <li>تغييرات في الأزمنة</li>
                    </ul>
                    <p>في الكلام المنقول، ننقل معنى الكلام مع تعديل الأزمنة والضمائر بما يتناسب مع السياق الجديد.</p>
                </article>
            </div>
        </section>

        <!-- تغييرات الأزمنة -->
        <section aria-labelledby="section-tense-changes">
            <h2 id="section-tense-changes" class="section-title">🔄 Tense Changes | تغييرات الأزمنة</h2>
            <p lang="en" style="margin-bottom: 1rem;">When reporting speech, verb tenses often shift to reflect the change in time:</p>
            <p lang="ar" style="margin-bottom: 1.5rem;">عند نقل الكلام، غالبًا ما يتم تعديل أزمنة الأفعال لتتناسب مع زمن الكلام المنقول:</p>

            <div class="verb-changes" role="list">
                <div class="verb-card" role="listitem">
                    <div class="direct" aria-label="Present Simple">Present Simple</div>
                    <div class="arrow" aria-hidden="true">↓</div>
                    <div class="reported" aria-label="Past Simple">Past Simple</div>
                    <p>I work → He said he worked</p>
                </div>

                <div class="verb-card" role="listitem">
                    <div class="direct" aria-label="Present Continuous">Present Continuous</div>
                    <div class="arrow" aria-hidden="true">↓</div>
                    <div class="reported" aria-label="Past Continuous">Past Continuous</div>
                    <p>I am working → He said he was working</p>
                </div>

                <div class="verb-card" role="listitem">
                    <div class="direct" aria-label="Past Simple">Past Simple</div>
                    <div class="arrow" aria-hidden="true">↓</div>
                    <div class="reported" aria-label="Past Perfect">Past Perfect</div>
                    <p>I worked → He said he had worked</p>
                </div>

                <div class="verb-card" role="listitem">
                    <div class="direct" aria-label="Present Perfect">Present Perfect</div>
                    <div class="arrow" aria-hidden="true">↓</div>
                    <div class="reported" aria-label="Past Perfect">Past Perfect</div>
                    <p>I have worked → He said he had worked</p>
                </div>

                <div class="verb-card" role="listitem">
                    <div class="direct" aria-label="Future Will">Will</div>
                    <div class="arrow" aria-hidden="true">↓</div>
                    <div class="reported" aria-label="Future Would">Would</div>
                    <p>I will go → He said he would go</p>
                </div>

                <div class="verb-card" role="listitem">
                    <div class="direct" aria-label="Can">Can</div>
                    <div class="arrow" aria-hidden="true">↓</div>
                    <div class="reported" aria-label="Could">Could</div>
                    <p>I can swim → He said he could swim</p>
                </div>
            </div>
        </section>

        <!-- تغييرات الوقت والمكان -->
        <section aria-labelledby="section-time-place-changes">
            <h2 id="section-time-place-changes" class="section-title">🕐 Time and Place Changes | تغييرات الوقت والمكان</h2>
            <div class="transformation-box" aria-label="Common time and place changes">
                <h4>Common Changes | تغييرات شائعة:</h4>
                <div>
                    <div><strong>today</strong> → <em>that day</em></div>
                    <div><strong>tomorrow</strong> → <em>the next day</em></div>
                    <div><strong>yesterday</strong> → <em>the previous day</em></div>
                    <div><strong>now</strong> → <em>then</em></div>
                    <div><strong>here</strong> → <em>there</em></div>
                    <div><strong>this</strong> → <em>that</em></div>
                    <div><strong>these</strong> → <em>those</em></div>
                    <div><strong>ago</strong> → <em>before</em></div>
                    <div><strong>الآن</strong> → <em>حينها</em></div>
                    <div><strong>اليوم</strong> → <em>ذلك اليوم</em></div>
                    <div><strong>غداً</strong> → <em>اليوم التالي</em></div>
                </div>
            </div>
        </section>

        <!-- أفعال النقل -->
        <section aria-labelledby="section-reporting-verbs">
            <h2 id="section-reporting-verbs" class="section-title">🗣️ Reporting Verbs | أفعال النقل</h2>
            <div class="reporting-verbs" role="list" aria-label="List of reporting verbs">
                <span class="reporting-verb" role="listitem" tabindex="0">said</span>
                <span class="reporting-verb" role="listitem" tabindex="0">told</span>
                <span class="reporting-verb" role="listitem" tabindex="0">asked</span>
                <span class="reporting-verb" role="listitem" tabindex="0">explained</span>
                <span class="reporting-verb" role="listitem" tabindex="0">replied</span>
                <span class="reporting-verb" role="listitem" tabindex="0">mentioned</span>
                <span class="reporting-verb" role="listitem" tabindex="0">added</span>
                <span class="reporting-verb" role="listitem" tabindex="0">admitted</span>
                <span class="reporting-verb" role="listitem" tabindex="0">denied</span>
                <span class="reporting-verb" role="listitem" tabindex="0">suggested</span>
            </div>

            <div class="example-box" tabindex="0" aria-label="Important difference between say and tell">
                <h4>Important Difference | فرق مهم:</h4>
                <p><strong>Say</strong> (no object): She said that she was happy.</p>
                <p><strong>Tell</strong> (with object): She told me that she was happy.</p>
                <p><strong>قال</strong> (بدون مفعول): قالت إنها سعيدة.</p>
                <p><strong>أخبر</strong> (مع مفعول): أخبرتني أنها سعيدة.</p>
            </div>
        </section>

        <!-- الأسئلة في الكلام المنقول -->
        <section aria-labelledby="section-questions">
            <h2 id="section-questions" class="section-title">📝 Questions in Reported Speech | الأسئلة في الكلام المنقول</h2>
            <div class="example-box">
                <h4>Yes/No Questions | أسئلة نعم/لا</h4>
                <p><strong>Direct:</strong> "Are you coming?" he asked.</p>
                <p><strong>Reported:</strong> He asked if/whether I was coming.</p>
                <p><strong>المباشر:</strong> "هل ستأتي؟" سأل.</p>
                <p><strong>المنقول:</strong> سأل إذا كنت سآتي.</p>
            </div>
            <div class="example-box">
                <h4>Wh- Questions | أسئلة الاستفهام</h4>
                <p><strong>Direct:</strong> "Where do you live?" she asked.</p>
                <p><strong>Reported:</strong> She asked where I lived.</p>
                <p><strong>المباشر:</strong> "أين تسكن؟" سألت.</p>
                <p><strong>المنقول:</strong> سألت أين أسكن.</p>
            </div>
        </section>

        <!-- التمرين -->
        <section aria-labelledby="section-exercise">
            <h2 id="section-exercise" class="section-title">🎯 Practice Exercise | تمرين تطبيقي</h2>
            <p lang="en">Click on the correct option to convert direct speech into reported speech.</p>
            <p lang="ar">انقر على الخيار الصحيح لتحويل الكلام المباشر إلى الكلام المنقول.</p>

            <div class="exercise-container" id="exerciseContainer" role="list" aria-live="polite" aria-atomic="true" lang="en" dir="ltr">
                <div class="exercise-item" role="listitem" data-answer="was" tabindex="0" onclick="checkAnswer(this)">
                    <p><strong>1.</strong> "I am busy," she said.</p>
                    <p>She said that she _____ busy.</p>
                    <p>a) was | b) is | c) will be</p>
                </div>

                <div class="exercise-item" role="listitem" data-answer="would-come" tabindex="0" onclick="checkAnswer(this)">
                    <p><strong>2.</strong> "I will come tomorrow," he said.</p>
                    <p>He said that he _____ the next day.</p>
                    <p>a) will come | b) would come | c) came</p>
                </div>

                <div class="exercise-item" role="listitem" data-answer="had-seen" tabindex="0" onclick="checkAnswer(this)">
                    <p><strong>3.</strong> "I saw the movie yesterday," she said.</p>
                    <p>She said that she _____ the movie the day before.</p>
                    <p>a) saw | b) had seen | c) has seen</p>
                </div>

                <div class="exercise-item" role="listitem" data-answer="could" tabindex="0" onclick="checkAnswer(this)">
                    <p><strong>4.</strong> "I can speak French," he said.</p>
                    <p>He said that he _____ speak French.</p>
                    <p>a) can | b) could | c) will</p>
                </div>

                <div class="exercise-item" role="listitem" data-answer="was-working" tabindex="0" onclick="checkAnswer(this)">
                    <p><strong>5.</strong> "I am working on a project," she said.</p>
                    <p>She said that she _____ on a project.</p>
                    <p>a) is working | b) was working | c) worked</p>
                </div>
            </div>
            <div id="result" role="alert" aria-live="assertive" lang="en" dir="ltr"></div>
        </section>

    </main>
    <style>
        :root {
            --primary-color: #d35400; /* برتقالي دافئ */
            --secondary-color: #27ae60; /* أخضر هادئ */
            --text-color: #222222;
            --bg-color: #fefefe;
            --card-bg: #ffffff;
            --shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
            --border-radius: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', Tahoma, Arial, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--primary-color), #e67e22);
            color: var(--text-color);
            min-height: 100vh;
            line-height: 1.7;
            font-size: 1.15rem;
            padding: 1rem 0;
        }

        .container {
            max-width: 1000px;
            margin: auto;
            background: var(--bg-color);
            padding: 2rem 2.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        header {
            text-align: center;
            margin-bottom: 2.5rem;
            border-bottom: 4px solid var(--primary-color);
            padding-bottom: 1rem;
        }

        header h1 {
            font-size: clamp(2rem, 6vw, 2.8rem);
            font-weight: 900;
            color: #2c3e50;
            letter-spacing: 1.8px;
        }

        header p {
            font-size: clamp(1rem, 3vw, 1.3rem);
            font-weight: 600;
            color: #555;
            letter-spacing: 0.15em;
            margin-top: 0.5rem;
        }

        /* شريط تقدم */
        .progress-bar {
            background: #ecf0f1;
            height: 0.9rem;
            border-radius: 2rem;
            margin: 1.75rem auto 0;
            width: 90%;
            overflow: hidden;
            box-shadow: inset 0 0 7px rgba(0, 0, 0, 0.05);
        }

        .progress-fill {
            background: var(--primary-color);
            height: 100%;
            width: 0;
            transition: width 0.6s ease;
        }

        /* أقسام المحتوى */
        section {
            margin-bottom: 3rem;
        }

        .section-title {
            font-size: clamp(1.8rem, 4vw, 2.2rem);
            margin-bottom: 1.2rem;
            font-weight: 900;
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 0.4rem;
        }

        /* ثنائي اللغة - بشكل جانبي */
        .bilingual-flex {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2.5rem;
        }

        /* كروت الكلام المباشر والمنقول */
        .speech-card {
            background: #f9f9f9;
            padding: 1.8rem 2rem;
            border-radius: var(--border-radius);
            border-right: 6px solid var(--primary-color);
            box-shadow: 0 3px 10px rgb(0 0 0 / 0.08);
            color: #2c3e50;
        }

        .speech-card.reported {
            border-right-color: var(--secondary-color);
            background: #fafaf8;
        }

        .speech-title {
            font-size: 1.4rem;
            font-weight: 900;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .speech-title.reported {
            color: var(--secondary-color);
        }

        .example-box {
            background: #e4f0e2;
            border-radius: 9px;
            padding: 0.9rem 1.3rem;
            margin-bottom: 1rem;
            font-size: 1.1rem;
            color: #2d3a23;
            line-height: 1.65;
        }

        .example-box strong {
            color: var(--primary-color);
            display: block;
            margin-bottom: 0.4rem;
        }

        ul {
            list-style: inside disc;
            padding-inline-start: 1.2rem;
            font-size: 1.13rem;
            color: #444444;
        }
        ul li {
            margin-bottom: 0.6rem;
            font-weight: 600;
        }

        /* تغييرات الأزمنة */
        .verb-changes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.8rem;
            margin-top: 1.8rem;
        }

        .verb-card {
            background: #f0f7f4;
            padding: 1.6rem 2rem;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 8px rgb(0 0 0 / 0.07);
            text-align: center;
            color: #1e3932;
            font-weight: 700;
            user-select: text;
        }

        .verb-card .direct {
            font-size: 1.28rem;
            color: var(--primary-color);
            margin-bottom: 0.35rem;
        }

        .arrow {
            font-size: 2rem;
            color: var(--primary-color);
            margin: 0.6rem 0;
            font-weight: 900;
            user-select: none;
        }

        .verb-card .reported {
            font-size: 1.28rem;
            color: var(--secondary-color);
        }

        .verb-card p {
            margin-top: 0.6rem;
            font-size: 1rem;
            font-weight: 500;
            color: #333;
        }

        /* كريم أصفر لتغييرات الوقت والمكان */
        .transformation-box {
            background: #fff3cd;
            border: 2.5px solid #ffca2c;
            border-radius: var(--border-radius);
            padding: 1.5rem 2rem;
            margin: 1.5rem 0;
            color: #8a6d1b;
            font-weight: 600;
            font-size: 1.16rem;
            line-height: 1.7;
        }

        .transformation-box h4 {
            margin-bottom: 1rem;
            font-weight: 900;
            color: #926c00;
        }

        .transformation-box div {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
            font-size: 1.1rem;
        }

        .transformation-box strong {
            color: #926c00;
        }

        .transformation-box em {
            color: #615000;
            font-style: normal;
            font-weight: 700;
        }

        /* أفعال النقل */
        .reporting-verbs {
            display: flex;
            flex-wrap: wrap;
            gap: 0.9rem;
            margin: 1rem 0 1rem 0;
        }

        .reporting-verb {
            background: var(--secondary-color);
            color: #fff;
            padding: 0.45rem 1.15rem;
            border-radius: 1.5rem;
            font-size: 1rem;
            font-weight: 700;
            user-select: text;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            cursor: default;
            transition: background-color 0.3s;
        }

        .reporting-verb:hover {
            background: #1e824c;
        }

        /* صندوق الأمثلة */
        .example-box h4 {
            color: var(--primary-color);
            font-weight: 900;
            margin-bottom: 0.7rem;
        }

        /* التمرين */
        .exercise-container {
            background: #fbfcfd;
            padding: 1.8rem 2.3rem;
            border-radius: var(--border-radius);
            box-shadow: inset 0 0 13px rgb(0 0 0 / 0.07);
            user-select: none;
            margin-top:1rem;
        }

        .exercise-item {
            background: #ffffff;
            border-radius: 12px;
            border: 2px solid #dadee1;
            padding: 1rem 1.6rem;
            margin-bottom: 1.2rem;
            cursor: pointer;
            transition: border-color 0.35s ease, box-shadow 0.35s ease;
            user-select: none;
        }

        .exercise-item:hover:not(.correct):not(.incorrect) {
            border-color: var(--primary-color);
            box-shadow: var(--shadow);
        }

        .exercise-item.correct {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
            font-weight: 700;
            cursor: default;
            user-select: text;
        }

        .exercise-item.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
            font-weight: 700;
            cursor: default;
            user-select: text;
        }

        .exercise-item p {
            user-select: text;
        }

        #result {
            margin-top: 2rem;
            text-align: center;
            font-weight: 900;
            font-size: 1.6rem;
            user-select: none;
            min-height: 40px;
        }

        /* زر العودة */
        .back-button {
            position: fixed;
            top: 1rem;
            right: 1rem;
            background: var(--card-bg);
            padding: 0.85rem 1.7rem;
            border-radius: 2.5rem;
            text-decoration: none;
            color: var(--text-color);
            font-weight: 900;
            box-shadow: var(--shadow);
            transition: background 0.3s, box-shadow 0.3s;
            user-select: none;
            letter-spacing: 0.07em;
            z-index: 999;
        }

        .back-button:hover {
            background: #fff;
            box-shadow: 0 7px 18px rgba(0, 0, 0, 0.19);
        }

        /* ثنائي اللغة - ترتيب رأس الصفحة */
        .bilingual-flex .lang-block {
            user-select: text;
        }
        .lang-en {
            direction: ltr;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #2c3e50;
        }
        .lang-ar {
            direction: rtl;
            font-family: 'Cairo', Tahoma, Arial, sans-serif;
            color: #2c3e50;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .bilingual-flex {
                grid-template-columns: 1fr;
            }
            section {
                margin-bottom: 2rem;
            }
        }
        @media (max-width: 400px) {
            body {
                font-size: 1rem;
            }
            header h1 {
                font-size: 1.9rem;
            }
        }
    </style>
    <script>
        let correctAnswers = 0;
        const totalQuestions = 5;

        function checkAnswer(element) {
            if (element.classList.contains('correct') || element.classList.contains('incorrect')) {
                return;
            }

            const chosenAnswer = element.querySelector('p:nth-child(3)').textContent.toLowerCase();
            const userAnswer = element.getAttribute('data-answer');
            let correctAnswer;

            // Mapping question number to correct answer key used in data-answer attribute
            const questionNumber = element.querySelector('strong').textContent.replace('.', '').trim();
            switch (questionNumber) {
                case '1':
                    correctAnswer = 'was';
                    break;
                case '2':
                    correctAnswer = 'would-come';
                    break;
                case '3':
                    correctAnswer = 'had-seen';
                    break;
                case '4':
                    correctAnswer = 'could';
                    break;
                case '5':
                    correctAnswer = 'was-working';
                    break;
                default:
                    correctAnswer = '';
            }

            if (userAnswer === correctAnswer) {
                element.classList.add('correct');
                correctAnswers++;
            } else {
                element.classList.add('incorrect');
            }

            updateProgress();

            if (correctAnswers === totalQuestions) {
                const result = document.getElementById('result');
                result.textContent = '🎉 Perfect! You mastered reported speech! | ممتاز! لقد أتقنت الكلام المنقول!';
                result.style.color = '#28a745';
            }
        }

        function updateProgress() {
            const progressPercent = (correctAnswers / totalQuestions) * 100;
            document.getElementById('progressBar').style.width = progressPercent + '%';
        }

        window.addEventListener('load', () => {
            updateProgress();
            document.documentElement.style.scrollBehavior = 'smooth';
        });

    </script>
</body>
</html>
