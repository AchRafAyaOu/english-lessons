<style>
    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; }
    html:focus-within { scroll-behavior: smooth; }
    body {
      font-family: "Tajawal", "Noto Sans Arabic", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      line-height: 1.8;
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
      color: var(--text);
      background: linear-gradient(135deg, var(--bg), var(--bg-soft));
      transition: background-color .3s ease, color .3s ease;
    }
    :root {
      --bg: #0f172a;
      --bg-soft: #1e293b;
      --panel: #1e293b;
      --panel-2: #334155;
      --text: #f1f5f9;
      --muted: #94a3b8;
      --border: rgba(255,255,255,.15);
      --accent: #3b82f6;
      --accent-2: #60a5fa;
      --success: #22c55e;
      --danger: #ef4444;
      --warning: #f59e0b;
      --radius: 12px;
      --radius-sm: 8px;
      --shadow: 0 8px 24px rgba(0,0,0,.2);
      --shadow-soft: 0 4px 12px rgba(0,0,0,.15);
      --ring: 0 0 0 3px rgba(59,130,246,.3);
    }
    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f1f5f9;
        --bg-soft: #ffffff;
        --panel: #ffffff;
        --panel-2: #f8fafc;
        --text: #1e293b;
        --muted: #64748b;
        --border: rgba(0,0,0,.1);
        --accent: #2563eb;
        --accent-2: #3b82f6;
        --shadow: 0 8px 24px rgba(0,0,0,.1);
        --shadow-soft: 0 4px 12px rgba(0,0,0,.08);
      }
    }
    @media (prefers-reduced-motion: reduce) {
      * { animation: none !important; transition: none !important; scroll-behavior: auto !important; }
    }
    .container { max-width: 1100px; margin: 32px auto; padding: 16px; }
    .header {
      position: relative;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: #fff;
      padding: 32px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      text-align: center;
      isolation: isolate;
    }
    .header::after {
      content: "";
      position: absolute; inset: 0;
      background: radial-gradient(600px 300px at 100% 0, rgba(255,255,255,.15), transparent 50%);
      pointer-events: none;
      z-index: -1;
    }
    .header h1 {
      margin: 0 0 12px;
      font-size: clamp(24px, 5vw, 40px);
      font-weight: 900;
      text-shadow: 0 2px 4px rgba(0,0,0,.2);
    }
    .header p {
      margin: 0;
      font-size: clamp(16px, 2.5vw, 20px);
      opacity: .9;
    }
    .progress-wrap {
      display: grid;
      gap: 12px;
      max-width: 500px;
      margin: 16px auto;
    }
    .progress-track {
      height: 16px;
      border-radius: 999px;
      background: rgba(255,255,255,.3);
      overflow: hidden;
    }
    .progress-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #4ade80, #22c55e);
      border-radius: 999px;
      transition: width .5s ease;
    }
    .progress-text {
      color: #fff;
      font-weight: 600;
      text-align: center;
    }
    .content { margin-top: 32px; display: grid; gap: 24px; padding: 24px; }
    .panel {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 24px;
      box-shadow: var(--shadow-soft);
    }
    .panel h2 {
      margin: 0 0 16px;
      font-size: clamp(20px, 4vw, 28px);
      color: var(--accent-2);
      font-weight: 700;
    }
    .panel h3 {
      margin: 24px 0 12px;
      font-size: clamp(18px, 3.5vw, 24px);
      color: var(--accent);
      font-weight: 600;
    }
    .lead {
      color: var(--muted);
      font-size: 1.1rem;
      margin-bottom: 16px;
    }
    .grid {
      display: grid;
      gap: 16px;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      margin: 16px 0;
    }
    .card {
      background: var(--panel-2);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 16px;
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow);
      border-color: var(--accent-2);
    }
    .chip {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: rgba(59,130,246,.15);
      color: var(--accent-2);
      border: 1px solid rgba(59,130,246,.3);
      padding: 6px 12px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 13px;
      margin-bottom: 12px;
    }
    .eg {
      background: rgba(34,197,94,.1);
      border: 1px solid rgba(34,197,94,.3);
      color: var(--success);
      padding: 12px;
      border-radius: var(--radius-sm);
      margin: 12px 0;
    }
    .eg .en {
      font-weight: 700;
      color: #16a34a;
    }
    .eg .ar {
      color: var(--muted);
      font-style: italic;
    }
    .note {
      display: grid;
      grid-template-columns: 40px 1fr;
      gap: 12px;
      align-items: start;
      background: rgba(59,130,246,.1);
      border: 1px dashed rgba(59,130,246,.4);
      border-radius: var(--radius-sm);
      padding: 16px;
      margin-top: 12px;
    }
    .note .ico {
      display: grid;
      place-items: center;
      width: 40px;
      height: 40px;
      border-radius: 8px;
      background: rgba(59,130,246,.15);
      color: var(--accent-2);
      border: 1px solid rgba(59,130,246,.3);
      font-weight: 900;
    }
    .exercise { display: grid; gap: 16px; }
    .q {
      background: var(--panel-2);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 16px;
      transition: background .2s ease;
    }
    .q strong { color: var(--accent-2); }
    .opts {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin-top: 12px;
    }
    .opt {
      user-select: none;
      text-align: center;
      padding: 12px;
      border-radius: var(--radius-sm);
      font-weight: 700;
      font-size: 14px;
      background: var(--panel);
      color: var(--text);
      border: 2px solid var(--border);
      transition: transform .2s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
      cursor: pointer;
    }
    .opt:hover {
      transform: translateY(-2px);
      border-color: var(--accent-2);
      box-shadow: var(--shadow-soft);
    }
    .opt:focus-visible {
      outline: none;
      box-shadow: var(--ring);
    }
    .opt.correct {
      background: rgba(34,197,94,.2);
      border-color: var(--success);
      color: #d1fae5;
      animation: pulse .3s ease;
    }
    .opt.wrong {
      background: rgba(239,68,68,.2);
      border-color: var(--danger);
      color: #fecaca;
      animation: shake .3s ease;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-4px); }
      75% { transform: translateX(4px); }
    }
    .feedback {
      margin-top: 8px;
      font-size: 14px;
      color: var(--muted);
      transition: opacity .3s ease;
    }
    .toolbar {
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
      margin-top: 16px;
      position: sticky;
      top: 16px;
      background: var(--panel);
      padding: 12px;
      border-radius: var(--radius-sm);
      box-shadow: var(--shadow-soft);
      z-index: 10;
    }
    .btn {
      background: var(--accent);
      border: none;
      color: #fff;
      padding: 10px 16px;
      border-radius: var(--radius-sm);
      font-weight: 700;
      font-size: 14px;
      transition: transform .2s ease, background .2s ease;
      cursor: pointer;
    }
    .btn:hover {
      transform: translateY(-2px);
      background: var(--accent-2);
    }
    .btn:focus-visible {
      outline: none;
      box-shadow: var(--ring);
    }
    .badge {
      padding: 6px 12px;
      border-radius: 999px;
      background: rgba(34,197,94,.2);
      border: 1px solid rgba(34,197,94,.4);
      color: #d1fae5;
      font-size: 13px;
      font-weight: 700;
    }
    .timer {
      background: rgba(59,130,246,.2);
      border-color: rgba(59,130,246,.4);
      color: #dbeafe;
    }
    .success {
      display: none;
      text-align: center;
      padding: 16px;
      margin-top: 16px;
      border-radius: var(--radius-sm);
      background: rgba(34,197,94,.15);
      border: 1px solid rgba(34,197,94,.4);
      color: #d1fae5;
    }
    .success.show { display: block; }
    .back-to-top {
      position: fixed;
      bottom: 24px;
      right: 24px;
      background: var(--accent);
      color: #fff;
      padding: 12px;
      border-radius: 50%;
      box-shadow: var(--shadow);
      cursor: pointer;
      display: none;
      z-index: 20;
    }
    .back-to-top.show { display: block; }
    .nav-links {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      margin-bottom: 24px;
      padding: 12px;
      background: var(--panel);
      border-radius: var(--radius-sm);
      box-shadow: var(--shadow-soft);
    }
    .nav-links a {
      color: var(--accent-2);
      text-decoration: none;
      font-weight: 600;
      padding: 8px 12px;
      border-radius: var(--radius-sm);
      transition: background .2s ease;
    }
    .nav-links a:hover {
      background: rgba(59,130,246,.15);
    }
    @media (max-width: 768px) {
      .container { margin: 16px; padding: 12px; }
      .header { padding: 24px 16px; }
      .header h1 { font-size: clamp(20px, 4vw, 32px); }
      .content { padding: 16px; }
      .panel { padding: 16px; }
      .opts { grid-template-columns: 1fr; }
      .grid { grid-template-columns: 1fr; }
      .back-to-top { bottom: 16px; right: 16px; }
    }
  </style>
</head>
<body>
  <main class="container">
    <header class="header" role="banner" aria-label="Lesson header">
      <h1>ğŸ—ï¸ Ø§Ù„ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„Ø¬Ù…Ù„Ø©</h1>
      <p>Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø¨Ù†Ø§Ø¡ Ø¬Ù…Ù„ Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…ÙÙ‡ÙˆÙ…Ø©</p>
      <div class="progress-wrap">
        <div class="progress-track"><div class="progress-fill" id="progressBar"></div></div>
        <p class="progress-text">Ø§Ù„ØªÙ‚Ø¯Ù…: <span id="progressText">0%</span></p>
      </div>
    </header>

    <nav class="nav-links" aria-label="Section navigation">
      <a href="#core">Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</a>
      <a href="#types">Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¬Ù…Ù„</a>
      <a href="#expansion">ØªÙˆØ³ÙŠØ¹ Ø§Ù„Ø¬Ù…Ù„</a>
      <a href="#mistakes">Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</a>
      <a href="#practice">ØªÙ…Ø§Ø±ÙŠÙ†</a>
    </nav>

    <section class="content" aria-label="Main content">
      <section class="panel" id="core">
        <h2>ğŸ“‹ Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</h2>
        <p class="lead">ØªØªØ¨Ø¹ Ù…Ø¹Ø¸Ù… Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„ÙˆØ§Ø¶Ø­Ø© Ù†Ù…Ø·Ù‹Ø§ Ø¨Ø³ÙŠØ·Ù‹Ø§ ÙˆÙ‚Ø§Ø¨Ù„Ù‹Ø§ Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©.</p>
        <div class="eg">
          <div class="en">Subject + Verb + Object (S + V + O)</div>
          <div class="ar">ÙØ§Ø¹Ù„ + ÙØ¹Ù„ + Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡</div>
        </div>
        <div class="grid" role="list">
          <article class="card" role="listitem">
            <span class="chip">Ø§Ù„ÙØ§Ø¹Ù„</span>
            <p><strong>Ù…Ù†/Ù…Ø§Ø°Ø§ ÙŠÙ‚ÙˆÙ… Ø¨Ø§Ù„ÙØ¹Ù„.</strong><br>Ù…Ù† ÙŠÙ‚ÙˆÙ… Ø¨Ø§Ù„ÙØ¹Ù„ Ø£Ùˆ ÙŠÙØ´ÙƒÙ‘Ù„ Ù…Ø­ÙˆØ± Ø§Ù„Ø­Ø¯ÙŠØ«.</p>
            <div class="eg">
              <div class="en">The cat â€¢ I â€¢ Students</div>
              <div class="ar">Ø§Ù„Ù‚Ø·Ø© â€¢ Ø£Ù†Ø§ â€¢ Ø§Ù„Ø·Ù„Ø§Ø¨</div>
            </div>
          </article>
          <article class="card" role="listitem">
            <span class="chip">Ø§Ù„ÙØ¹Ù„</span>
            <p><strong>Ø§Ù„ÙØ¹Ù„ Ø£Ùˆ Ø§Ù„Ø­Ø§Ù„Ø©.</strong><br>Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ø°ÙŠ ÙŠØ­Ø¯Ø« Ø£Ùˆ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø´Ù‡Ø¯.</p>
            <div class="eg">
              <div class="en">run â€¢ eat â€¢ study â€¢ is/are</div>
              <div class="ar">ÙŠØ¬Ø±ÙŠ â€¢ ÙŠØ£ÙƒÙ„ â€¢ ÙŠØ¯Ø±Ø³ â€¢ ÙŠÙƒÙˆÙ†</div>
            </div>
          </article>
          <article class="card" role="listitem">
            <span class="chip">Ø§Ù„Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡</span>
            <p><strong>ÙŠØ³ØªÙ‚Ø¨Ù„ Ø§Ù„ÙØ¹Ù„.</strong><br>ÙŠØ³ØªÙ‚Ø¨Ù„ Ø§Ù„ÙØ¹Ù„ Ø£Ùˆ ÙŠØªØ£Ø«Ø± Ø¨Ù‡.</p>
            <div class="eg">
              <div class="en">the mouse â€¢ pizza â€¢ English</div>
              <div class="ar">Ø§Ù„ÙØ£Ø± â€¢ Ø§Ù„Ø¨ÙŠØªØ²Ø§ â€¢ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</div>
            </div>
          </article>
        </div>
        <h3>Ø£Ù…Ø«Ù„Ø© ÙƒØ§Ù…Ù„Ø©</h3>
        <div class="eg"><div class="en">The cat runs quickly.</div><div class="ar">Ø§Ù„Ù‚Ø·Ø© ØªØ¬Ø±ÙŠ Ø¨Ø³Ø±Ø¹Ø©.</div></div>
        <div class="eg"><div class="en">I eat pizza every Friday.</div><div class="ar">Ø¢ÙƒÙ„ Ø§Ù„Ø¨ÙŠØªØ²Ø§ ÙƒÙ„ Ø¬Ù…Ø¹Ø©.</div></div>
        <div class="eg"><div class="en">Students study English at school.</div><div class="ar">Ø§Ù„Ø·Ù„Ø§Ø¨ ÙŠØ¯Ø±Ø³ÙˆÙ† Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©.</div></div>
        <div class="eg"><div class="en">The teacher explains the lesson.</div><div class="ar">Ø§Ù„Ù…Ø¹Ù„Ù… ÙŠØ´Ø±Ø­ Ø§Ù„Ø¯Ø±Ø³.</div></div>
        <div class="eg"><div class="en">Sara writes an email every morning.</div><div class="ar">Ø³Ø§Ø±Ø© ØªÙƒØªØ¨ Ø¨Ø±ÙŠØ¯Ù‹Ø§ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠÙ‹Ø§ ÙƒÙ„ ØµØ¨Ø§Ø­.</div></div>
        <div class="note" aria-live="polite">
          <div class="ico">ğŸ’¡</div>
          <div>Ø§Ø¬Ø¹Ù„ Ø§Ù„ÙØ§Ø¹Ù„ Ù‚ØµÙŠØ±Ù‹Ø§ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø£ÙØ¹Ø§Ù„Ù‹Ø§ Ø­ÙŠÙˆÙŠØ©ØŒ ÙˆØ£Ø¶Ù Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (ÙØ§Ø¹Ù„ + ÙØ¹Ù„ + Ù…ÙØ¹ÙˆÙ„) Ù„Ù„ÙˆØ¶ÙˆØ­.<br>âœ¨ Ø§Ø¬Ø¹Ù„ Ø§Ù„ÙØ§Ø¹Ù„ ÙˆØ§Ø¶Ø­Ù‹Ø§ ÙˆÙ…Ø®ØªØµØ±Ù‹Ø§.</div>
        </div>
      </section>

      <section class="panel" id="types">
        <h2>ğŸ”„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¬Ù…Ù„</h2>
        <div class="grid">
          <article class="card">
            <span class="chip">Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„Ø®Ø¨Ø±ÙŠØ©</span>
            <p>ØªØ¹Ø¨Ø± Ø¹Ù† Ø­Ù‚Ø§Ø¦Ù‚ Ø£Ùˆ Ø¢Ø±Ø§Ø¡.<br>Ø¬Ù…Ù„ ØªØ®Ø¨Ø± Ø¹Ù† Ø­Ù‚ÙŠÙ‚Ø© Ø£Ùˆ Ø±Ø£ÙŠ.</p>
            <div class="eg"><div class="en">It is raining today.</div><div class="ar">Ø¥Ù†Ù‡Ø§ ØªÙ…Ø·Ø± Ø§Ù„ÙŠÙˆÙ….</div></div>
            <div class="eg"><div class="en">She loves chocolate.</div><div class="ar">Ù‡ÙŠ ØªØ­Ø¨ Ø§Ù„Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©.</div></div>
          </article>
          <article class="card">
            <span class="chip">Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„Ø§Ø³ØªÙÙ‡Ø§Ù…ÙŠØ©</span>
            <p>ØªØ·Ø±Ø­ Ø£Ø³Ø¦Ù„Ø©.<br>ØµÙŠØºØ© Ø³Ø¤Ø§Ù„ Ø£Ùˆ Ø§Ø³ØªÙØ³Ø§Ø±.</p>
            <div class="eg"><div class="en">Are you coming?</div><div class="ar">Ù‡Ù„ Ø£Ù†Øª Ù‚Ø§Ø¯Ù…ØŸ</div></div>
            <div class="eg"><div class="en">What time is it?</div><div class="ar">ÙƒÙ… Ø§Ù„Ø³Ø§Ø¹Ø©ØŸ</div></div>
          </article>
          <article class="card">
            <span class="chip">Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„Ø£Ù…Ø±ÙŠØ©</span>
            <p>ØªØ¹Ø·ÙŠ Ø£ÙˆØ§Ù…Ø± Ø£Ùˆ Ø·Ù„Ø¨Ø§Øª.<br>Ø£Ù…Ø± Ø£Ùˆ Ø·Ù„Ø¨.</p>
            <div class="eg"><div class="en">Close the door.</div><div class="ar">Ø£ØºÙ„Ù‚ Ø§Ù„Ø¨Ø§Ø¨.</div></div>
            <div class="eg"><div class="en">Please sit down.</div><div class="ar">Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø¬Ù„Ø³.</div></div>
          </article>
          <article class="card">
            <span class="chip">Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„ØªØ¹Ø¬Ø¨ÙŠØ©</span>
            <p>ØªØ¹Ø¨Ø± Ø¹Ù† Ù…Ø´Ø§Ø¹Ø± Ù‚ÙˆÙŠØ©.<br>ØªØ¹Ø¨Ø± Ø¹Ù† Ù…Ø´Ø§Ø¹Ø± Ù‚ÙˆÙŠØ© Ø£Ùˆ ØªØ¹Ø¬Ø¨.</p>
            <div class="eg"><div class="en">What a beautiful day!</div><div class="ar">ÙŠØ§ Ù„Ù‡ Ù…Ù† ÙŠÙˆÙ… Ø¬Ù…ÙŠÙ„!</div></div>
            <div class="eg"><div class="en">How amazing!</div><div class="ar">ÙŠØ§ Ù„Ù„Ø±ÙˆØ¹Ø©!</div></div>
          </article>
        </div>
        <h3>Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„Ù…Ø±ÙƒØ¨Ø©</h3>
        <p class="lead">Ø§Ø±Ø¨Ø· Ø¬Ù…Ù„ØªÙŠÙ† Ù…Ø³ØªÙ‚Ù„ØªÙŠÙ† Ø¨Ø±ÙˆØ§Ø¨Ø· Ù„ØªØ¯ÙÙ‚ Ø£ÙØ¶Ù„.</p>
        <div class="eg"><div class="en">I wanted to go, but it was raining.</div><div class="ar">ÙƒÙ†Øª Ø£Ø±ÙŠØ¯ Ø§Ù„Ø°Ù‡Ø§Ø¨ØŒ Ù„ÙƒÙ† ÙƒØ§Ù† Ø§Ù„Ø¬Ùˆ Ù…Ù…Ø·Ø±Ù‹Ø§.</div></div>
        <div class="eg"><div class="en">She studies hard, and she passes her exams.</div><div class="ar">Ù‡ÙŠ ØªØ¯Ø±Ø³ Ø¨Ø¬Ø¯ØŒ ÙˆØªÙ†Ø¬Ø­ ÙÙŠ Ø§Ù…ØªØ­Ø§Ù†Ø§ØªÙ‡Ø§.</div></div>
        <div class="eg"><div class="en">Tom cooked dinner, so his wife set the table.</div><div class="ar">Ø·Ø¨Ø® ØªÙˆÙ… Ø§Ù„Ø¹Ø´Ø§Ø¡ØŒ Ù„Ø°Ø§ Ø±ØªØ¨Øª Ø²ÙˆØ¬ØªÙ‡ Ø§Ù„Ø·Ø§ÙˆÙ„Ø©.</div></div>
        <h3>Ø§Ù„Ø£Ø²Ù…Ù†Ø© ÙÙŠ Ø§Ù„Ø¹Ù…Ù„</h3>
        <div class="grid">
          <article class="card"><span class="chip">Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ Ø§Ù„Ø¨Ø³ÙŠØ·</span><div class="eg"><div class="en">He works every day.</div><div class="ar">Ù‡Ùˆ ÙŠØ¹Ù…Ù„ ÙƒÙ„ ÙŠÙˆÙ….</div></div></article>
          <article class="card"><span class="chip">Ø§Ù„Ù…Ø§Ø¶ÙŠ Ø§Ù„Ø¨Ø³ÙŠØ·</span><div class="eg"><div class="en">She visited the museum yesterday.</div><div class="ar">Ø²Ø§Ø±Øª Ø§Ù„Ù…ØªØ­Ù Ø£Ù…Ø³.</div></div></article>
          <article class="card"><span class="chip">Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø¨Ø³ÙŠØ·</span><div class="eg"><div class="en">They will travel tomorrow.</div><div class="ar">Ø³ÙŠØ³Ø§ÙØ±ÙˆÙ† ØºØ¯Ù‹Ø§.</div></div></article>
          <article class="card"><span class="chip">Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ Ø§Ù„Ù…Ø³ØªÙ…Ø±</span><div class="eg"><div class="en">I am reading now.</div><div class="ar">Ø£Ù†Ø§ Ø£Ù‚Ø±Ø£ Ø§Ù„Ø¢Ù†.</div></div></article>
        </div>
        <h3>Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„Ø´Ø±Ø·ÙŠØ©</h3>
        <div class="grid">
          <article class="card"><span class="chip">Ø§Ù„Ø´Ø±Ø·ÙŠØ© Ø§Ù„ØµÙØ±ÙŠØ©</span><div class="eg"><div class="en">If you heat ice, it melts.</div><div class="ar">Ø¥Ø°Ø§ Ø³Ø®Ù‘Ù†Øª Ø§Ù„Ø«Ù„Ø¬ ÙØ¥Ù†Ù‡ ÙŠØ°ÙˆØ¨.</div></div></article>
          <article class="card"><span class="chip">Ø§Ù„Ø´Ø±Ø·ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰</span><div class="eg"><div class="en">If it rains, we will stay home.</div><div class="ar">Ø¥Ø°Ø§ Ø£Ù…Ø·Ø±ØªØŒ Ø³Ù†Ø¨Ù‚Ù‰ ÙÙŠ Ø§Ù„Ù…Ù†Ø²Ù„.</div></div></article>
          <article class="card"><span class="chip">Ø§Ù„Ø´Ø±Ø·ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©</span><div class="eg"><div class="en">If I were rich, I would travel.</div><div class="ar">Ù„Ùˆ ÙƒÙ†Øª ØºÙ†ÙŠÙ‹Ø§ØŒ Ù„Ø³Ø§ÙØ±Øª.</div></div></article>
          <article class="card"><span class="chip">Ø§Ù„Ø´Ø±Ø·ÙŠØ© Ø§Ù„Ø«Ø§Ù„Ø«Ø©</span><div class="eg"><div class="en">If you had studied, you would have passed.</div><div class="ar">Ù„Ùˆ ÙƒÙ†Øª Ø¯Ø±Ø³ØªØŒ Ù„ÙƒÙ†Øª Ù†Ø¬Ø­Øª.</div></div></article>
        </div>
        <div class="note">
          <div class="ico">ğŸ§©</div>
          <div>Ø§Ø³ØªØ®Ø¯Ù… ÙØ§Ø¹Ù„Ù‹Ø§ Ù‚ØµÙŠØ±Ù‹Ø§ØŒ Ø§Ø®ØªØ± Ø£ÙØ¹Ø§Ù„Ù‹Ø§ Ø¯Ù‚ÙŠÙ‚Ø©ØŒ ÙˆØ¶Ø¹ Ø§Ù„Ø¸Ø±ÙˆÙ Ø¨Ø§Ù„Ù‚Ø±Ø¨ Ù…Ù† Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªÙŠ ØªØµÙÙ‡Ø§ Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙÙ‡Ù….<br>ğŸ¯ Ø§Ø¬Ø¹Ù„ Ø§Ù„Ø¬Ù…Ù„ ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…Ø±ÙƒØ²Ø©.</div>
        </div>
      </section>

      <section class="panel" id="expansion">
        <h2>ğŸ“ ØªÙˆØ³ÙŠØ¹ Ø§Ù„Ø¬Ù…Ù„</h2>
        <p class="lead">Ø£Ø¶Ù ØªÙØ§ØµÙŠÙ„ Ù„Ø¬Ø¹Ù„ Ø§Ù„Ø¬Ù…Ù„ Ø£ÙƒØ«Ø± Ø«Ø±Ø§Ø¡Ù‹ ÙˆØ¥Ø«Ø§Ø±Ø© Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù….</p>
        <div class="grid">
          <article class="card">
            <span class="chip">Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØµÙØ§Øª</span>
            <p>Ø§Ù„ØµÙØ§Øª ØªØµÙ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡.<br>ØªØ¶ÙŠÙ ÙˆØµÙÙ‹Ø§ Ù„Ù„Ø£Ø³Ù…Ø§Ø¡.</p>
            <div class="eg"><div class="en">She has a big house.</div><div class="ar">Ù„Ø¯ÙŠÙ‡Ø§ Ù…Ù†Ø²Ù„ ÙƒØ¨ÙŠØ±.</div></div>
          </article>
          <article class="card">
            <span class="chip">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¸Ø±ÙˆÙ</span>
            <p>Ø§Ù„Ø¸Ø±ÙˆÙ ØªØµÙ Ø§Ù„Ø£ÙØ¹Ø§Ù„.<br>ØªØ¶ÙŠÙ ÙˆØµÙÙ‹Ø§ Ù„Ù„Ø£ÙØ¹Ø§Ù„.</p>
            <div class="eg"><div class="en">He speaks slowly.</div><div class="ar">Ù‡Ùˆ ÙŠØªÙƒÙ„Ù… Ø¨Ø¨Ø·Ø¡.</div></div>
          </article>
          <article class="card">
            <span class="chip">Ø¹Ø¨Ø§Ø±Ø§Øª Ø§Ù„Ø¬Ø±</span>
            <p>ØªØ¶ÙŠÙ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„ÙˆÙ‚ØªØŒ Ø§Ù„Ù…ÙƒØ§Ù†ØŒ Ø£Ùˆ Ø§Ù„ÙƒÙŠÙÙŠØ©.<br>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©.</p>
            <div class="eg"><div class="en">The cat sleeps on the sofa.</div><div class="ar">Ø§Ù„Ù‚Ø·Ø© ØªÙ†Ø§Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±ÙŠÙƒØ©.</div></div>
            <div class="eg"><div class="en">We went to the park in the afternoon.</div><div class="ar">Ø°Ù‡Ø¨Ù†Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¯ÙŠÙ‚Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø¸Ù‡Ø±.</div></div>
          </article>
        </div>
        <div class="note">
          <div class="ico">ğŸ”</div>
          <div>ÙˆØ³Ù‘Ø¹ Ø§Ù„Ø¬Ù…Ù„ ØªØ¯Ø±ÙŠØ¬ÙŠÙ‹Ø§: Ø§Ù„Ø£Ø³Ø§Ø³ + ØµÙØ©/Ø¸Ø±Ù + Ø¹Ø¨Ø§Ø±Ø© Ø¬Ø±.<br>â­ Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©.</div>
        </div>
      </section>

      <section class="panel" id="mistakes">
        <h2>ğŸš¨ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</h2>
        <div class="grid">
          <article class="card">
            <span class="chip">ØºÙŠØ§Ø¨ Ø§Ù„ÙØ§Ø¹Ù„</span>
            <div class="eg"><div class="en">Wrong: Runs fast.</div><div class="ar">Ø®Ø§Ø·Ø¦Ø©: ÙŠØ¬Ø±ÙŠ Ø¨Ø³Ø±Ø¹Ø©.</div></div>
            <div class="eg"><div class="en">Correct: He runs fast.</div><div class="ar">Ø§Ù„ØµØ­ÙŠØ­Ø©: Ù‡Ùˆ ÙŠØ¬Ø±ÙŠ Ø¨Ø³Ø±Ø¹Ø©.</div></div>
          </article>
          <article class="card">
            <span class="chip">ØªØ·Ø§Ø¨Ù‚ Ø§Ù„ÙØ§Ø¹Ù„ ÙˆØ§Ù„ÙØ¹Ù„</span>
            <div class="eg"><div class="en">Wrong: She walk to school.</div><div class="ar">Ø®Ø§Ø·Ø¦Ø©: Ù‡ÙŠ ÙŠÙ…Ø´ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©.</div></div>
            <div class="eg"><div class="en">Correct: She walks to school.</div><div class="ar">Ø§Ù„ØµØ­ÙŠØ­Ø©: Ù‡ÙŠ ØªÙ…Ø´ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©.</div></div>
          </article>
          <article class="card">
            <span class="chip">ØªØ±ØªÙŠØ¨ Ø§Ù„ÙƒÙ„Ù…Ø§Øª (Ø§Ù„Ø£Ø³Ø¦Ù„Ø©)</span>
            <div class="eg"><div class="en">Wrong: You are coming?</div><div class="ar">Ø®Ø§Ø·Ø¦Ø©: Ø£Ù†Øª Ù‚Ø§Ø¯Ù…ØŸ</div></div>
            <div class="eg"><div class="en">Correct: Are you coming?</div><div class="ar">Ø§Ù„ØµØ­ÙŠØ­Ø©: Ù‡Ù„ Ø£Ù†Øª Ù‚Ø§Ø¯Ù…ØŸ</div></div>
          </article>
        </div>
        <div class="note">
          <div class="ico">â—</div>
          <div>ØªØ­Ù‚Ù‚ Ù…Ø±ØªÙŠÙ† Ù…Ù† ØªØ·Ø§Ø¨Ù‚ Ø§Ù„ÙØ§Ø¹Ù„ ÙˆØ§Ù„ÙØ¹Ù„ ÙˆØ§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø¬Ù…Ù„Ø©.<br>ğŸ”„ ØªØ£ÙƒØ¯ Ù…Ù† Ø³Ù„Ø§Ù…Ø© Ø§Ù„ØªØ±ÙƒÙŠØ¨.</div>
        </div>
      </section>

      <section class="panel" id="practice">
        <h2>ğŸ¯ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ†</h2>
        <div class="exercise" role="list">
          <div class="q" role="listitem" data-answer="declarative" data-explain="Ø¬Ù…Ù„Ø© Ø®Ø¨Ø±ÙŠØ© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙØ§Ø¹Ù„ + ÙØ¹Ù„ Ù…Ø³Ø§Ø¹Ø¯ + ÙØ¹Ù„ Ù…Ù†ØªÙ‡ÙŠ Ø¨Ù€ ing.">
            <p><strong>Ù¡.</strong> Ø§Ù„Ø·Ù„Ø§Ø¨ ÙŠØ¯Ø±Ø³ÙˆÙ† Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§ØªÙ‡Ù….</p>
            <div class="opts">
              <button class="opt" aria-label="Ø§Ø³ØªÙÙ‡Ø§Ù…ÙŠØ©">Ø§Ø³ØªÙÙ‡Ø§Ù…ÙŠØ©</button>
              <button class="opt" aria-label="Ø®Ø¨Ø±ÙŠØ©">Ø®Ø¨Ø±ÙŠØ©</button>
              <button class="opt" aria-label="Ø£Ù…Ø±ÙŠØ©">Ø£Ù…Ø±ÙŠØ©</button>
              <button class="opt" aria-label="ØªØ¹Ø¬Ø¨ÙŠØ©">ØªØ¹Ø¬Ø¨ÙŠØ©</button>
            </div>
            <div class="feedback" role="status"></div>
          </div>
          <div class="q" role="listitem" data-answer="question word + auxiliary + subject + verb" data-explain="ÙƒÙ„Ù…Ø© Ø§Ø³ØªÙÙ‡Ø§Ù… + ÙØ¹Ù„ Ù…Ø³Ø§Ø¹Ø¯ + ÙØ§Ø¹Ù„ + ÙØ¹Ù„ Ø±Ø¦ÙŠØ³ÙŠ.">
            <p><strong>Ù¢.</strong> Ø£ÙŠÙ† ÙˆØ¶Ø¹Øª Ù…ÙØ§ØªÙŠØ­ÙŠØŸ</p>
            <div class="opts">
              <button class="opt" aria-label="ÙØ§Ø¹Ù„ + ÙØ¹Ù„ + Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡">ÙØ§Ø¹Ù„ + ÙØ¹Ù„ + Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡</button>
              <button class="opt" aria-label="ÙƒÙ„Ù…Ø© Ø§Ø³ØªÙÙ‡Ø§Ù… + ÙØ¹Ù„ Ù…Ø³Ø§Ø¹Ø¯ + ÙØ§Ø¹Ù„ + ÙØ¹Ù„">ÙƒÙ„Ù…Ø© Ø§Ø³ØªÙÙ‡Ø§Ù… + ÙØ¹Ù„ Ù…Ø³Ø§Ø¹Ø¯ + ÙØ§Ø¹Ù„ + ÙØ¹Ù„</button>
              <button class="opt" aria-label="ÙØ¹Ù„ + Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡">ÙØ¹Ù„ + Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡</button>
              <button class="opt" aria-label="ÙØ§Ø¹Ù„ + ÙØ¹Ù„">ÙØ§Ø¹Ù„ + ÙØ¹Ù„</button>
            </div>
            <div class="feedback" role="status"></div>
          </div>
          <div class="q" role="listitem" data-answer="imperative" data-explain="Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ø£ÙˆÙ„Ø§Ù‹ØŒ Ù…Ø¹ ÙØ§Ø¹Ù„ Ø¶Ù…Ù†ÙŠ (Ø£Ù†Øª).">
            <p><strong>Ù£.</strong> Ù…Ù† ÙØ¶Ù„Ùƒ Ø³Ø§Ø¹Ø¯Ù†ÙŠ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©.</p>
            <div class="opts">
              <button class="opt" aria-label="Ø®Ø¨Ø±ÙŠØ©">Ø®Ø¨Ø±ÙŠØ©</button>
              <button class="opt" aria-label="Ø§Ø³ØªÙÙ‡Ø§Ù…ÙŠØ©">Ø§Ø³ØªÙÙ‡Ø§Ù…ÙŠØ©</button>
              <button class="opt" aria-label="Ø£Ù…Ø±ÙŠØ©">Ø£Ù…Ø±ÙŠØ©</button>
              <button class="opt" aria-label="ØªØ¹Ø¬Ø¨ÙŠØ©">ØªØ¹Ø¬Ø¨ÙŠØ©</button>
            </div>
            <div class="feedback" role="status"></div>
          </div>
          <div class="q" role="listitem" data-answer="exclamatory" data-explain="ØµÙŠØºØ© ØªØ¹Ø¬Ø¨ ØªØ¨Ø¯Ø£ Ø¨Ù€ what/how.">
            <p><strong>Ù¤.</strong> ÙŠØ§ Ù„Ù‡Ø§ Ù…Ù† Ù…ÙØ§Ø¬Ø£Ø© Ø±Ø§Ø¦Ø¹Ø©!</p>
            <div class="opts">
              <button class="opt" aria-label="Ø®Ø¨Ø±ÙŠØ©">Ø®Ø¨Ø±ÙŠØ©</button>
              <button class="opt" aria-label="Ø§Ø³ØªÙÙ‡Ø§Ù…ÙŠØ©">Ø§Ø³ØªÙÙ‡Ø§Ù…ÙŠØ©</button>
              <button class="opt" aria-label="Ø£Ù…Ø±ÙŠØ©">Ø£Ù…Ø±ÙŠØ©</button>
              <button class="opt" aria-label="ØªØ¹Ø¬Ø¨ÙŠØ©">ØªØ¹Ø¬Ø¨ÙŠØ©</button>
            </div>
            <div class="feedback" role="status"></div>
          </div>
          <div class="q" role="listitem" data-answer="the cat" data-explain="Ø§Ù„ÙØ§Ø¹Ù„ Ù‡Ùˆ Ù…Ù† ÙŠÙ‚ÙˆÙ… Ø¨Ø§Ù„ÙØ¹Ù„.">
            <p><strong>Ù¥.</strong> ÙÙŠ "Ø§Ù„Ù‚Ø·Ø© ØªÙ†Ø§Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±ÙŠÙƒØ©"ØŒ Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙØ§Ø¹Ù„ØŸ</p>
            <div class="opts">
              <button class="opt" aria-label="Ø§Ù„Ù‚Ø·Ø©">Ø§Ù„Ù‚Ø·Ø©</button>
              <button class="opt" aria-label="ØªÙ†Ø§Ù…">ØªÙ†Ø§Ù…</button>
              <button class="opt" aria-label="Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±ÙŠÙƒØ©">Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±ÙŠÙƒØ©</button>
              <button class="opt" aria-label="Ø§Ù„Ø£Ø±ÙŠÙƒØ©">Ø§Ù„Ø£Ø±ÙŠÙƒØ©</button>
            </div>
            <div class="feedback" role="status"></div>
          </div>
        </div>
        <div class="toolbar">
          <button class="btn" id="resetBtn" aria-label="Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙ…Ø±ÙŠÙ†">Ø¥Ø¹Ø§Ø¯Ø©</button>
          <button class="btn" id="showBtn" aria-label="Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª">Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª</button>
          <button class="btn" id="explainBtn" aria-label="Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø´Ø±Ø­">Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø´Ø±Ø­</button>
          <span class="badge" id="score" aria-live="polite">0 / 5</span>
          <span class="badge timer" id="timer" aria-live="polite">â± 00:00</span>
        </div>
        <div class="success" id="successBox" role="status" aria-live="polite">
          <h3>ğŸ‰ Ø¹Ù…Ù„ Ù…Ù…ØªØ§Ø²!</h3>
          <p>Ù„Ù‚Ø¯ Ø£ØªÙ‚Ù†Øª Ø§Ù„ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„Ø¬Ù…Ù„ ÙˆÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¬Ù…Ù„ ÙˆØ£Ø·Ø±Ù‡Ø§.</p>
        </div>
      </section>
    </section>
    <button class="back-to-top" id="backToTop" aria-label="Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¹Ù„Ù‰">â†‘</button>
  </main>

  <script>
    const questions = [...document.querySelectorAll('.q')];
    const progressBar = document.getElementById('progressBar');
    const progressText = document.getElementById('progressText');
    const scoreEl = document.getElementById('score');
    const successBox = document.getElementById('successBox');
    const resetBtn = document.getElementById('resetBtn');
    const showBtn = document.getElementById('showBtn');
    const explainBtn = document.getElementById('explainBtn');
    const timerEl = document.getElementById('timer');
    const backToTop = document.getElementById('backToTop');

    let answered = 0;
    let correct = 0;
    let showExplanations = true;
    let seconds = 0;
    let timerId = null;

    function startTimer() {
      if (timerId) return;
      timerId = setInterval(() => {
        seconds++;
        timerEl.textContent = `â± ${formatTime(seconds)}`;
      }, 1000);
    }
    function stopTimer() {
      clearInterval(timerId);
      timerId = null;
    }
    function resetTimer() {
      stopTimer();
      seconds = 0;
      timerEl.textContent = 'â± 00:00';
    }
    function formatTime(s) {
      const m = String(Math.floor(s / 60)).padStart(2, '0');
      const ss = String(s % 60).padStart(2, '0');
      return `${m}:${ss}`;
    }

    questions.forEach(q => {
      q.querySelectorAll('.opt').forEach(opt => {
        opt.setAttribute('role', 'button');
        opt.setAttribute('tabindex', '0');
        opt.addEventListener('keydown', e => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            opt.click();
          }
        });
        opt.addEventListener('click', () => {
          startTimer();
          handleAnswer(q, opt);
        });
      });
    });

    function handleAnswer(q, chosen) {
      const answer = (q.dataset.answer || '').trim().toLowerCase();
      const explain = q.dataset.explain || '';
      const feedback = q.querySelector('.feedback');
      const all = q.querySelectorAll('.opt');

      if (!q.dataset.answered) {
        q.dataset.answered = '1';
        answered++;
      }

      const normalize = s => s.replace(/\s+/g, ' ').trim().toLowerCase();
      const selected = normalize(chosen.textContent);
      all.forEach(o => o.classList.remove('correct', 'wrong'));
      const wasCorrect = q.dataset.wasCorrect === '1';
      const nowCorrect = normalize(answer) === selected;

      if (nowCorrect) {
        chosen.classList.add('correct');
        if (!wasCorrect) {
          correct++;
          q.dataset.wasCorrect = '1';
        }
        feedback.textContent = showExplanations ? `âœ… ØµØ­ÙŠØ­ â€” ${explain}` : 'âœ… ØµØ­ÙŠØ­';
      } else {
        chosen.classList.add('wrong');
        if (wasCorrect) {
          correct--;
          q.dataset.wasCorrect = '0';
        }
        feedback.textContent = showExplanations ? `âŒ ØºÙŠØ± ØµØ­ÙŠØ­ â€” ${explain}` : 'âŒ ØºÙŠØ± ØµØ­ÙŠØ­';
      }

      updateProgress();
    }

    function updateProgress() {
      const total = questions.length;
      const pct = Math.round((answered / total) * 100);
      progressBar.style.width = `${pct}%`;
      progressText.textContent = `${pct}%`;
      scoreEl.textContent = `${correct} / ${total}`;
      if (correct === total && total > 0) {
        successBox.classList.add('show');
        stopTimer();
      } else {
        successBox.classList.remove('show');
      }
    }

    resetBtn.addEventListener('click', () => {
      questions.forEach(q => {
        delete q.dataset.answered;
        delete q.dataset.wasCorrect;
        q.querySelectorAll('.opt').forEach(o => o.classList.remove('correct', 'wrong'));
        const fb = q.querySelector('.feedback');
        if (fb) fb.textContent = '';
      });
      answered = 0;
      correct = 0;
      progressBar.style.width = '0%';
      progressText.textContent = '0%';
      scoreEl.textContent = `0 / ${questions.length}`;
      successBox.classList.remove('show');
      resetTimer();
    });

    showBtn.addEventListener('click', () => {
      questions.forEach(q => {
        const answer = (q.dataset.answer || '').trim().toLowerCase();
        const explain = q.dataset.explain || '';
        const opts = [...q.querySelectorAll('.opt')];
        const normalize = s => s.replace(/\s+/g, ' ').trim().toLowerCase();
        const correctOpt = opts.find(o => normalize(o.textContent) === normalize(answer));
        if (!q.dataset.answered) {
          q.dataset.answered = '1';
          answered++;
        }
        if (q.dataset.wasCorrect !== '1') {
          q.dataset.wasCorrect = '1';
          correct++;
        }
        opts.forEach(o => o.classList.remove('correct', 'wrong'));
        if (correctOpt) correctOpt.classList.add('correct');
        const fb = q.querySelector('.feedback');
        fb.textContent = showExplanations ? `âœ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© â€” ${explain}` : 'âœ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©';
      });
      updateProgress();
    });

    explainBtn.addEventListener('click', () => {
      showExplanations = !showExplanations;
      explainBtn.textContent = showExplanations ? 'Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø´Ø±Ø­' : 'Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø´Ø±Ø­';
      questions.forEach(q => {
        const fb = q.querySelector('.feedback');
        if (!fb || !fb.textContent) return;
        const explain = q.dataset.explain || '';
        if (fb.textContent.includes('âœ…')) {
          fb.textContent = showExplanations ? `âœ… ØµØ­ÙŠØ­ â€” ${explain}` : 'âœ… ØµØ­ÙŠØ­';
        } else if (fb.textContent.includes('âŒ')) {
          fb.textContent = showExplanations ? `âŒ ØºÙŠØ± ØµØ­ÙŠØ­ â€” ${explain}` : 'âŒ ØºÙŠØ± ØµØ­ÙŠØ­';
        } else if (fb.textContent.includes('Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©')) {
          fb.textContent = showExplanations ? `âœ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© â€” ${explain}` : 'âœ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©';
        }
      });
    });

    backToTop.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
    window.addEventListener('scroll', () => {
      backToTop.classList.toggle('show', window.scrollY > 300);
    });

    (function init() {
      progressBar.style.width = '0%';
      progressText.textContent = '0%';
      scoreEl.textContent = `0 / ${questions.length}`;
      explainBtn.textContent = 'Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø´Ø±Ø­';
      timerEl.textContent = 'â± 00:00';
    })();
  </script>
</body>
</html>