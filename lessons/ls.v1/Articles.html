<div class="container">
    <div class="header" role="banner" aria-label="عنوان الدرس">
      <h1>📰 Articles: A, An, The</h1>
      <p>أدوات التعريف والنكرة</p>
      <div class="progress-container" aria-hidden="true">
        <div class="progress-bar"><div class="progress-fill" id="progressBar"></div></div>
        <p style="margin-top:10px;color:white;">Progress: <span id="progressText">0%</span></p>
      </div>
    </div>

<div id="theme-toggle" aria-label="تبديل المظهر" title="تبديل المظهر" >
  🔄
</div>
    <div class="content">
      <!-- مقدمة موسعة -->
      <div class="section" id="intro">
        <h2>🎯 What are Articles? - ما هي أدوات التعريف والنكرة؟</h2>
        <p><strong>Articles are small words that come before nouns to show if the noun is specific or general.</strong></p>
        <p><strong>أدوات التعريف والنكرة كلمات صغيرة تسبق الأسماء لتوضح إن كان الاسم محددًا أم عامًا.</strong></p>

        <div class="article-grid" role="list">
          <div class="article-card" role="listitem">
            <div class="article-title">A</div>
            <p><strong>Indefinite Article</strong> — أداة نكرة</p>
            <p>Used before singular countable nouns with consonant sounds.</p>
            <p>تُستخدم قبل الأسماء المعدودة المفردة التي تبدأ بصوت ساكن.</p>
            <div class="badge">Sound matters</div>
          </div>
          <div class="article-card" role="listitem">
            <div class="article-title">AN</div>
            <p><strong>Indefinite Article</strong> — أداة نكرة</p>
            <p>Used before singular countable nouns with vowel sounds.</p>
            <p>تُستخدم قبل الأسماء المعدودة المفردة التي تبدأ بصوت متحرك.</p>
            <div class="badge">Sound matters</div>
          </div>
          <div class="article-card" role="listitem">
            <div class="article-title">THE</div>
            <p><strong>Definite Article</strong> — أداة تعريف</p>
            <p>Used before specific nouns known to both speaker and listener.</p>
            <p>تُستخدم قبل أسماء محددة معروفة للمتحدث والمستمع.</p>
          </div>
        </div>

        <div class="quick-note">
          <div class="icon-badge">💡</div>
          <div>
            <strong>Pro tip:</strong> It’s about pronunciation. “A” vs “An” depends on the next sound, not the first letter.
            <br>
            ملاحظة: الفيصل هو النطق، وليس التهجئة.
          </div>
        </div>
      </div>

      <!-- A vs AN قواعد مع أمثلة إضافية -->
      <div class="section" id="a-vs-an">
        <h2>🔤 A vs AN Rules - قواعد A مقابل AN</h2>

        <div class="rule-box">
          <div class="rule-title">Rule 1: Use "A" before consonant sounds - استخدم A قبل الأصوات الساكنة</div>
          <div class="example">
            <div class="example-english">a book, a car, a university, a European country</div>
            <div class="example-arabic">كتاب، سيارة، جامعة، دولة أوروبية</div>
          </div>
        </div>

        <div class="rule-box">
          <div class="rule-title">Rule 2: Use "AN" before vowel sounds - استخدم AN قبل الأصوات المتحركة</div>
          <div class="example">
            <div class="example-english">an apple, an hour, an honest person, an umbrella</div>
            <div class="example-arabic">تفاحة، ساعة، شخص صادق، مظلة</div>
          </div>
        </div>

        <h3>⚠️ Important: It's about SOUND, not SPELLING!</h3>
        <table class="comparison-table" aria-label="A vs An by sound">
          <tr><th>Word</th><th>Article</th><th>Why?</th><th>Arabic</th></tr>
          <tr><td>university</td><td><strong>a</strong> university</td><td>Sounds like "you-ni-ver-sity"</td><td>جامعة</td></tr>
          <tr><td>hour</td><td><strong>an</strong> hour</td><td>Silent 'h' - sounds like "our"</td><td>ساعة</td></tr>
          <tr><td>honest</td><td><strong>an</strong> honest</td><td>Silent 'h' - sounds like "onest"</td><td>صادق</td></tr>
          <tr><td>European</td><td><strong>a</strong> European</td><td>Sounds like "you-ro-pean"</td><td>أوروبي</td></tr>
        </table>

        <div class="quick-note">
          <div class="icon-badge">🗣️</div>
          <div>
            Before acronyms: use “an” if the spoken letter starts with a vowel sound.
            <br>
            قبل الاختصارات: نستخدم “an” إذا بدأ نطق الحرف بصوت متحرك.
            <div class="example" style="margin-top:8px">
              <div>an MRI, an MBA, a URL, a UFO</div>
              <small>an “em-ar-eye”, an “em-bee-ay”, a “you-ar-ell”, a “you-eff-oh”</small>
            </div>
          </div>
        </div>
      </div>

      <!-- THE استخدامات موسعة -->
      <div class="section" id="the-usage">
        <h2>👑 Using "THE" - استخدام أداة التعريف</h2>

        <div class="rule-box">
          <div class="rule-title">1. Specific things both people know - أشياء محددة يعرفها الجميع</div>
          <div class="example">
            <div class="example-english">Can you close the door? (We both know which door)</div>
            <div class="example-arabic">هل يمكنك إغلاق الباب؟ (نحن نعرف أي باب)</div>
          </div>
        </div>

        <div class="rule-box">
          <div class="rule-title">2. Unique things - أشياء فريدة</div>
          <div class="example">
            <div class="example-english">the sun, the moon, the earth, the internet</div>
            <div class="example-arabic">الشمس، القمر، الأرض، الإنترنت</div>
          </div>
        </div>

        <div class="rule-box">
          <div class="rule-title">3. Superlatives - صيغة التفضيل</div>
          <div class="example">
            <div class="example-english">the best student, the tallest building, the most beautiful</div>
            <div class="example-arabic">أفضل طالب، أطول مبنى، الأجمل</div>
          </div>
        </div>

        <div class="rule-box">
          <div class="rule-title">4. Musical instruments - الآلات الموسيقية</div>
          <div class="example">
            <div class="example-english">I play the piano, She plays the guitar</div>
            <div class="example-arabic">أعزف البيانو، هي تعزف الجيتار</div>
          </div>
        </div>

        <div class="rule-box">
          <div class="rule-title">5. Ordinals and things already mentioned - الأعداد الترتيبية وشيء ذُكر سابقًا</div>
          <div class="example">
            <div class="example-english">the first time, the second chapter; I bought a book. The book was great.</div>
            <div class="example-arabic">المرة الأولى، الفصل الثاني؛ اشتريت كتابًا. كان الكتاب رائعًا.</div>
          </div>
        </div>

        <div class="rule-box">
          <div class="rule-title">6. Rivers, seas, groups of islands/mountains - أنهار وبحار ومجموعات</div>
          <div class="example">
            <div class="example-english">the Nile, the Pacific, the Maldives, the Alps</div>
            <div class="example-arabic">النيل، الهادئ، المالديف، الألب</div>
          </div>
        </div>
      </div>

      <!-- Zero Article (لا نستخدم أداة) -->
      <div class="section" id="zero-article">
        <h2>🚫 When NOT to use articles - متى لا نستخدم أدوات التعريف</h2>

        <div class="rule-box">
          <div class="rule-title">1. General plurals - الجمع العام</div>
          <div class="example">
            <div class="example-english">Cats are independent animals.</div>
            <div class="example-arabic">القطط حيوانات مستقلة.</div>
          </div>
        </div>

        <div class="rule-box">
          <div class="rule-title">2. Uncountable nouns in general - الأسماء غير المعدودة</div>
          <div class="example">
            <div class="example-english">Music helps me relax. Water is essential.</div>
            <div class="example-arabic">الموسيقى تساعدني على الاسترخاء. الماء ضروري.</div>
          </div>
        </div>

        <div class="rule-box">
          <div class="rule-title">3. Proper names - الأسماء العلم</div>
          <div class="example">
            <div class="example-english">Ahmed lives in Cairo. I study at Oxford University.</div>
            <div class="example-arabic">أحمد يعيش في القاهرة. أدرس في جامعة أكسفورد.</div>
          </div>
        </div>

        <div class="quick-note">
          <div class="icon-badge">🌍</div>
          <div>
            Countries: usually no article, except groups or descriptive names.
            <br>
            الدول: غالبًا بدون أداة، ما عدا الأسماء الوصفية أو المركبة.
            <div class="example" style="margin-top:8px">
              <div>no article: Egypt, Jordan, Japan</div>
              <div>use “the”: the United States, the United Kingdom, the Netherlands</div>
            </div>
          </div>
        </div>
      </div>
<!-- قسم التعليم الإضافي: الاستخدامات المتقدمة لأدوات التعريف -->
<section id="advanced-usage" class="section">
  <h2>🧠 الاستخدامات المتقدمة لأدوات التعريف</h2>
  <p>هنا نستعرض بعض الاستخدامات الأكثر دقة وتخصصًا لأدوات التعريف في اللغة الإنجليزية، مع أمثلة توضيحية باللغة العربية لتسهيل الفهم.</p>
  
  <div class="advanced-item">
    <h3>الفرق بين "The" و"Zero Article"</h3>
    <p>بعض الأسماء تستخدم بدون أدوات تعريف بشكل دائم، خاصة في الجمل العامة أو حالات المطلق.</p>
    <ul>
      <li><strong>Ex:</strong> I like coffee. (قهوة بشكل عام بدون أداة)</li>
      <li><strong>Ex:</strong> The coffee we drank was hot. (القهوة المحددة)</li>
    </ul>
  </div>
  
  <div class="advanced-item">
    <h3>استخدامات محددة لـ"the" مع الأسماء غير المعدودة والعمومية</h3>
    <p>مثلاً، عندما نتحدث عن شيئ معين أو مفهوم عام، نستخدم "the".</p>
    <ul>
      <li><strong>Ex:</strong> The information you provided is helpful.</li>
      <li><strong>Ex:</strong> The water in this river is clean.</li>
    </ul>
  </div>
  
  <!-- مثال تفاعلي بسيط -->
  <div class="interactive-example">
    <h4>هل يمكن أن تحدد إذا كان يجب استخدام "the" أم لا؟</h4>
    <p>جملة: ___ moon is bright tonight.</p>
    <button class="option" data-answer="the" data-explain="The moon is specific and unique.">the</button>
    <button class="option" data-answer="" data-explain="No article needed.">nothing</button>
    <button class="option" data-answer="" data-explain="No article needed.">-</button>
  </div>
</section>

<!-- قسم تعليمي آخر: التمارين التفاعلية المتقدمة -->
<section id="extra-practice" class="section">
  <h2>📝 تمارين إضافية لتعزيز الفهم</h2>
  <p>جرب هذه التمارين لتختبر فهمك لأدوات التعريف والنكرة بشكل أعمق.</p>
  
  <div class="question" data-answer="the" data-explain="The Eiffel Tower is a famous landmark.">
    <p><strong>1. ___ Eiffel Tower is in Paris.</strong></p>
    <div class="options">
      <button class="option">A</button>
      <button class="option">An</button>
      <button class="option">The</button>
      <button class="option">no article</button>
    </div>
    <div class="feedback"></div>
  </div>

  <div class="question" data-answer="no" data-explain="No article is needed for general plural nouns.">
    <p><strong>2. Cats are lovely animals.</strong></p>
    <div class="options">
      <button class="option">A</button>
      <button class="option">An</button>
      <button class="option">The</button>
      <button class="option">no article</button>
    </div>
    <div class="feedback"></div>
  </div>
</section>
<section id="daily-use" class="section">
  <h2>🗓️ الاستخدامات اليومية للأدوات في الحديث عن الأشخاص والأماكن والاشياء</h2>
  <p>إليك بعض الأمثلة على كيفية استخدام أدوات التعريف والنكرة في الحياة اليومية، مع توضيحات باللغة العربية لسهولة الفهم.</p>

  <!-- الأشخاص -->
  <div class="example-block">
    <h3>1. الحديث عن أشخاص معروفين أو معروفة</h3>
    <p><strong>English:</strong> I met **the** doctor yesterday. She’s famous.</p>
    <p><strong>عربية:</strong> التقيت بـ <strong>الطبيبة</strong> أمس. إنها مشهورة.</p>
  </div>

  <!-- الأماكن -->
  <div class="example-block">
    <h3>2. التحدث عن أماكن معروفة أو محددة</h3>
    <p><strong>English:</strong> They went to **the** park nearby. The park is beautiful.</p>
    <p><strong>عربية:</strong> ذهبوا إلى <strong>الحديقة</strong> المجاورة. الحديقة جميلة.</p>
  </div>

  <!-- الأشياء اليومية -->
  <div class="example-block">
    <h3>3. الحديث عن أشياء نستخدمها يوميًا</h3>
    <p><strong>English:</strong> I left **the** keys on the table. I can't find **the** keys.</p>
    <p><strong>عربية:</strong> تركت <strong>المفاتيح</strong> على الطاولة. لا أستطيع أن أجد <strong>المفاتيح</strong>.</p>
  </div>

  <!-- الأشخاص غير المعروفين أو العامين -->
  <div class="example-block">
    <h3>4. الأشخاص في سياقات عامة أو غير معروفة</h3>
    <p><strong>English:</strong> A person knocked on the door. I didn’t see **the** person.</p>
    <p><strong>عربية:</strong> شخص طرق على الباب. لم أرَ <strong>الشخص</strong>.</p>
  </div>

  <!-- ملاحظة هامة -->
  <div class="quick-note">
    <div class="icon-badge">💡</div>
    <div>
      <strong>تذكير مهم:</strong> عند الحديث عن أشخاص، أماكن، أو أشياء محددة أو معروفة للجميع، نستخدم "the". أما إذا كانت المعلومة عامة أو غير معروفة، نستخدم النكرة أو لا نستخدم أداة على الإطلاق.
    </div>
  </div>
</section>

      <!-- تمارين تفاعلية موسعة -->
      <div class="exercise" id="practice">
        <h4>🎯 Practice Exercise - تمرين تطبيقي</h4>
        <p>Choose the correct article or "no article" - اختر الأداة الصحيحة أو "بدون أداة"</p>

        <!-- الأسئلة الأصلية محسنة مع تفسير -->
        <div class="question" data-answer="an" data-explain="‘Umbrella’ starts with a vowel sound /ʌ/ → use ‘an’.">
          <p><strong>1. I need ___ umbrella because it's raining.</strong></p>
          <div class="options">
            <div class="option">a</div>
            <div class="option">an</div>
            <div class="option">the</div>
            <div class="option">no article</div>
          </div>
          <div class="feedback"></div>
        </div>

        <div class="question" data-answer="a" data-explain="‘University’ begins with /juː/ (you) → consonant sound → ‘a’.">
          <p><strong>2. She goes to ___ university in London.</strong></p>
          <div class="options">
            <div class="option">a</div>
            <div class="option">an</div>
            <div class="option">the</div>
            <div class="option">no article</div>
          </div>
          <div class="feedback"></div>
        </div>

        <div class="question" data-answer="the" data-explain="We talk about specific, shared item on the table → ‘the’ salt.">
          <p><strong>3. Can you pass me ___ salt, please?</strong></p>
          <div class="options">
            <div class="option">a</div>
            <div class="option">an</div>
            <div class="option">the</div>
            <div class="option">no article</div>
          </div>
          <div class="feedback"></div>
        </div>

        <div class="question" data-answer="an" data-explain="Silent ‘h’ in ‘hour’ → vowel sound → ‘an’.">
          <p><strong>4. I spent ___ hour waiting for the bus.</strong></p>
          <div class="options">
            <div class="option">a</div>
            <div class="option">an</div>
            <div class="option">the</div>
            <div class="option">no article</div>
          </div>
          <div class="feedback"></div>
        </div>

        <div class="question" data-answer="no article" data-explain="General plural (cats in general) → zero article.">
          <p><strong>5. ___ cats are independent animals.</strong></p>
          <div class="options">
            <div class="option">A</div>
            <div class="option">An</div>
            <div class="option">The</div>
            <div class="option">No article</div>
          </div>
          <div class="feedback"></div>
        </div>

        <!-- أسئلة إضافية -->
        <div class="question" data-answer="the" data-explain="Superlative ‘best’ requires ‘the’.">
          <p><strong>6. He is ___ best player on the team.</strong></p>
          <div class="options">
            <div class="option">a</div>
            <div class="option">an</div>
            <div class="option">the</div>
            <div class="option">no article</div>
          </div>
          <div class="feedback"></div>
        </div>

        <div class="question" data-answer="an" data-explain="Acronym ‘MBA’ pronounced ‘em-bee-ay’ → starts with vowel sound.">
          <p><strong>7. She has ___ MBA from Harvard.</strong></p>
          <div class="options">
            <div class="option">a</div>
            <div class="option">an</div>
            <div class="option">the</div>
            <div class="option">no article</div>
          </div>
          <div class="feedback"></div>
        </div>

        <div class="question" data-answer="the" data-explain="Unique river name → ‘the Nile’.">
          <p><strong>8. He sailed along ___ Nile.</strong></p>
          <div class="options">
            <div class="option">a</div>
            <div class="option">an</div>
            <div class="option">the</div>
            <div class="option">no article</div>
          </div>
          <div class="feedback"></div>
        </div>

        <div class="question" data-answer="a" data-explain="First mention of a singular countable noun → ‘a’.">
          <p><strong>9. I saw ___ movie last night.</strong></p>
          <div class="options">
            <div class="option">a</div>
            <div class="option">an</div>
            <div class="option">the</div>
            <div class="option">no article</div>
          </div>
          <div class="feedback"></div>
        </div>

        <div class="question" data-answer="the" data-explain="Second mention → specific → ‘the’.">
          <p><strong>10. ___ movie was exciting.</strong></p>
          <div class="options">
            <div class="option">a</div>
            <div class="option">an</div>
            <div class="option">the</div>
            <div class="option">no article</div>
          </div>
          <div class="feedback"></div>
        </div>

        <div class="toolbar">
          <button class="btn" id="resetBtn">إعادة التمرين</button>
          <button class="btn" id="showAnswersBtn">إظهار الإجابات</button>
          <button class="btn" id="toggleTimerBtn" aria-pressed="false">تشغيل المؤقّت</button>
          <span class="badge" id="scoreBadge">0 / 10</span>
          <span id="timer" aria-live="polite" style="margin-inline-start:auto">⏱️ 00:00</span>
        </div>

        <div class="success-message" id="successMessage" role="status" aria-live="polite">
          <h3>🎉 Excellent Work!</h3>
          <p>You've mastered English articles! You now know when to use "a", "an", "the", or no article at all.</p>
          <p><strong>عمل ممتاز! لقد أتقنت أدوات التعريف والنكرة!</strong></p>
        </div>
      </div>
    </div>
  </div>
<style>
    :root {
      --bg: #0f172a;
      --bg-soft: #1e293b;
      --panel: #334155;
      --text: #f1f5f9;
      --muted: #94a3b8;
      --accent: #3b82f6;
      --success: #22c55e;
      --danger: #ef4444;
      --warning: #f97316;
      --radius: 12px;
      --shadow: 0 8px 24px rgba(15, 23, 42, 0.2);
      --transition: all 0.3s ease;
    }

    @media (prefers-color-scheme: light) {
      :root {
        --bg: #ffffff;
        --bg-soft: #f8fafc;
        --panel: #e2e8f0;
        --text: #1e293b;
        --muted: #64748b;
        --shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
      }
    }

    [data-theme="light"] {
      --bg: #ffffff;
      --bg-soft: #f8fafc;
      --panel: #e2e8f0;
      --text: #1e293b;
      --muted: #64748b;
      --shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      transition: var(--transition);
    }

    body {
      font-family: 'Tajawal', 'Noto Sans Arabic', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.7;
      scroll-behavior: smooth;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Theme Toggle */
    #theme-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      background: var(--panel);
      border: none;
      padding: 0.75rem;
      border-radius: var(--radius);
      cursor: pointer;
      font-size: 1.25rem;
      box-shadow: var(--shadow);
      z-index: 1000;
      transition: var(--transition);
    }

    #theme-toggle:hover {
      background: var(--accent);
      transform: scale(1.05);
    }

    /* Navigation Sidebar */
    .nav-sidebar {
      position: sticky;
      top: 80px;
      width: 220px;
      float: right;
      margin-left: 20px;
      background: var(--bg-soft);
      border-radius: var(--radius);
      padding: 15px;
      box-shadow: var(--shadow);
    }

    .nav-sidebar h3 {
      font-size: 1.2rem;
      margin-bottom: 10px;
    }

    .nav-sidebar ul {
      list-style: none;
      padding: 0;
    }

    .nav-sidebar li {
      margin: 8px 0;
    }

    .nav-sidebar a {
      color: var(--text);
      text-decoration: none;
      font-size: 0.95rem;
      transition: color 0.2s;
    }

    .nav-sidebar a:hover {
      color: var(--accent);
    }

    @media (max-width: 768px) {
      .nav-sidebar {
        position: static;
        width: 100%;
        margin: 0 0 20px;
      }
    }

    /* Header */
    .header {
      background: linear-gradient(135deg, var(--accent), #1d4ed8);
      color: #fff;
      border-radius: var(--radius);
      padding: 2rem;
      box-shadow: var(--shadow);
      text-align: right;
      position: relative;
      margin-bottom: 2rem;
    }

    .header h1 {
      font-size: clamp(1.5rem, 4vw, 2.25rem);
      font-weight: 800;
      margin: 0 0 0.5rem;
    }

    .header p {
      font-size: clamp(0.9rem, 2vw, 1.1rem);
      color: var(--muted);
      margin: 0;
    }

    .progress-container {
      max-width: 400px;
      margin-top: 1rem;
    }

    .progress-bar {
      height: 8px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 999px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: var(--success);
      transition: width 0.4s ease;
    }

    /* Content Sections */
    .content {
      display: grid;
      gap: 1.5rem;
    }

    .section, .exercise {
      background: var(--bg-soft);
      border-radius: var(--radius);
      padding: 1.5rem;
      box-shadow: var(--shadow);
    }

    .section h2 {
      font-size: clamp(1.25rem, 3vw, 1.75rem);
      color: var(--text);
      margin: 0 0 1rem;
    }

    .section h3 {
      font-size: clamp(1rem, 2.5vw, 1.4rem);
      color: var(--accent);
      margin: 1rem 0 0.5rem;
    }

    .article-grid {
      display: grid;
      gap: 1rem;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      margin-top: 1rem;
    }

    .article-card {
      background: var(--panel);
      border-radius: var(--radius);
      padding: 1rem;
      text-align: center;
    }

    .article-title {
      font-size: 1.5rem;
      font-weight: 800;
      color: var(--accent);
      margin-bottom: 0.5rem;
    }

    .rule-box {
      background: var(--panel);
      border-radius: var(--radius);
      padding: 1rem;
      margin: 0.75rem 0;
    }

    .example {
      background: rgba(255, 255, 255, 0.05);
      border-radius: var(--radius);
      padding: 0.75rem;
      margin: 0.5rem 0;
    }

    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .comparison-table.show {
      opacity: 1;
      transform: translateY(0);
    }

    .comparison-table th, .comparison-table td {
      border: 1px solid rgba(255, 255, 255, 0.15);
      padding: 0.75rem;
      text-align: right;
    }

    .comparison-table th {
      background: var(--accent);
      color: #fff;
      font-weight: 700;
    }

    .comparison-table tbody tr:nth-child(even) {
      background: rgba(255, 255, 255, 0.05);
    }

    .comparison-table tbody tr:hover {
      background: rgba(79, 124, 255, 0.15);
    }

    /* Quick Notes */
    .quick-note {
      display: flex;
      gap: 1rem;
      align-items: flex-start;
      border: 1px dashed var(--muted);
      border-radius: var(--radius);
      padding: 1rem;
      margin: 0.75rem 0;
    }

    .icon-badge {
      background: var(--accent);
      color: #fff;
      width: 2rem;
      height: 2rem;
      border-radius: 8px;
      display: grid;
      place-items: center;
      font-size: 1rem;
    }

    /* Exercises */
    .exercise h4 {
      font-size: 1.4rem;
      margin-bottom: 0.75rem;
    }

    .question {
      background: var(--panel);
      border-radius: var(--radius);
      padding: 1rem;
      margin: 0.75rem 0;
    }

    .options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 0.5rem;
      margin-top: 0.5rem;
    }

    .option {
      background: var(--bg-soft);
      border: 1px solid var(--muted);
      border-radius: var(--radius);
      padding: 0.75rem;
      text-align: center;
      cursor: pointer;
      font-weight: 600;
      transition: var(--transition);
    }

    .option:hover {
      transform: translateY(-2px);
      background: var(--accent);
      color: #fff;
    }

    .option.correct {
      background: var(--success);
      border-color: var(--success);
      color: #fff;
    }

    .option.wrong {
      background: var(--danger);
      border-color: var(--danger);
      color: #fff;
    }

    .feedback {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: var(--muted);
    }

    /* Toolbar */
    .toolbar {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
      margin-top: 1rem;
    }

    .btn {
      background: var(--accent);
      color: #fff;
      border: none;
      padding: 0.75rem 1rem;
      border-radius: var(--radius);
      cursor: pointer;
      font-weight: 600;
      transition: var(--transition);
    }

    .btn:hover {
      background: #1d4ed8;
      transform: translateY(-2px);
    }

    .badge {
      background: var(--success);
      color: #fff;
      padding: 0.5rem 1rem;
      border-radius: 999px;
      font-size: 0.9rem;
      font-weight: 700;
    }

    .success-message {
      display: none;
      background: rgba(34, 197, 94, 0.15);
      border: 1px solid var(--success);
      border-radius: var(--radius);
      padding: 1rem;
      text-align: center;
      margin-top: 1rem;
    }

    .success-message.show {
      display: block;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }

      .options {
        grid-template-columns: 1fr;
      }

      .header {
        padding: 1.5rem;
      }

      .comparison-table {
        display: block;
        overflow-x: auto;
      }
    }
    .header {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 40px;
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            border-left: 5px solid #fa709a;
        }
        
        .section h2 {
            color: #2c3e50;
            font-size: 1.8rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section h3 {
            color: #34495e;
            font-size: 1.4rem;
            margin-bottom: 15px;
            margin-top: 25px;
        }
        
        .article-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .article-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            border: 3px solid #fee140;
            transition: transform 0.3s ease;
            text-align: center;
        }
        
        .article-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        
        .article-title {
            background: #fa709a;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 2rem;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 15px;
        }
        
        .rule-box {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #2196f3;
        }
        
        .rule-title {
            font-weight: bold;
            color: #1565c0;
            margin-bottom: 10px;
        }
        
        .example {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #4caf50;
        }
        
        .example-english {
            font-weight: bold;
            color: #2e7d32;
            margin-bottom: 5px;
        }
        
        .example-arabic {
            color: #666;
            font-style: italic;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .comparison-table th {
            background: #fa709a;
            color: white;
            padding: 15px;
            font-weight: bold;
        }
        
        .comparison-table td {
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .exercise {
            background: #fff3e0;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #ff9800;
        }
        
        .exercise h4 {
            color: #e65100;
            margin-bottom: 15px;
        }
        
        .question {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        
        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .option {
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #fafafa;
        }
        
        .option:hover {
            border-color: #fa709a;
            background: #fce4ec;
        }
        
        .option.correct {
            border-color: #4caf50;
            background: #e8f5e8;
            color: #2e7d32;
        }
        
        .option.incorrect {
            border-color: #f44336;
            background: #ffebee;
            color: #c62828;
        }
        
        .progress-container {
            background: white;
            padding: 20px;
            margin: 30px 0;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #fa709a, #fee140);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .success-message {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
            display: none;
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .content {
                padding: 20px;
            }
            
            .section {
                padding: 20px;
            }
            
            .article-grid {
                grid-template-columns: 1fr;
            }
            
            .options {
                grid-template-columns: 1fr;
            }
        }
  </style>
<script>
  // Progress and question tracking
  const progressBar = document.getElementById('progressBar');
  const progressText = document.getElementById('progressText');
  const questions = [...document.querySelectorAll('.question')];
  const totalQuestions = questions.length;
  const successMessage = document.getElementById('successMessage');
  const scoreBadge = document.getElementById('scoreBadge');

  let correctCount = 0;
  let answeredCount = 0;

  // Update progress bar and score
  function updateProgress() {
    const percent = Math.round((answeredCount / totalQuestions) * 100);
    progressBar.style.width = percent + '%';
    progressText.textContent = percent + '%';
    scoreBadge.textContent = `${correctCount} / ${totalQuestions}`;
    if (correctCount === totalQuestions) {
      successMessage.classList.add('show');
    } else {
      successMessage.classList.remove('show');
    }
  }

  // Clear options and feedback for a question
  function clearQuestion(q) {
    q.querySelectorAll('.option').forEach(o => o.classList.remove('correct', 'wrong'));
    q.querySelector('.feedback').innerHTML = '';
  }

  // Check answer correctness
  function checkAnswer(q, choice) {
    const answer = q.dataset.answer.toLowerCase().trim();
    const selectedText = choice.textContent.toLowerCase().trim();
    const feedbackEl = q.querySelector('.feedback');

    // Mark question as answered if not already
    if (q.dataset.answered !== '1') {
      answeredCount++;
      q.dataset.answered = '1';
    }

    const wasCorrect = q.dataset.wasCorrect === '1';

    if (selectedText === answer) {
      choice.classList.add('correct');
      choice.classList.remove('wrong');
      if (!wasCorrect) {
        correctCount++;
        q.dataset.wasCorrect = '1';
      }
      feedbackEl.innerHTML = `✅ Correct — ${q.dataset.explain || ''}`;
    } else {
      choice.classList.add('wrong');
      choice.classList.remove('correct');
      if (wasCorrect) {
        correctCount--;
        q.dataset.wasCorrect = '0';
      }
      feedbackEl.innerHTML = `❌ Incorrect. Explanation: ${q.dataset.explain || ''}`;
    }
   
const toggleButton = document.getElementById('theme-toggle');

toggleButton.addEventListener('click', () => {
  const root = document.documentElement;
  const currentTheme = root.getAttribute('data-theme');
  const newTheme = currentTheme === 'light' ? 'dark' : 'light';
  root.setAttribute('data-theme', newTheme);
  localStorage.setItem('theme', newTheme);
});

window.addEventListener('DOMContentLoaded', () => {
  const savedTheme = localStorage.getItem('theme') || 'dark';
  document.documentElement.setAttribute('data-theme', savedTheme);
});


    // Remove classes from other options
    q.querySelectorAll('.option').forEach(o => {
      if (o !== choice) o.classList.remove('correct', 'wrong');
    });

    updateProgress();
  }

  // Initialize event listeners for questions
  questions.forEach(q => {
    q.querySelectorAll('.option').forEach(opt => {
      opt.setAttribute('role', 'button');
      opt.setAttribute('tabindex', '0');

      opt.addEventListener('click', () => checkAnswer(q, opt));

      opt.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          checkAnswer(q, opt);
        } else if (e.key === 'ArrowDown') {
          e.preventDefault();
          const options = [...q.querySelectorAll('.option')];
          const index = options.indexOf(opt);
          options[(index + 1) % options.length].focus();
        } else if (e.key === 'ArrowUp') {
          e.preventDefault();
          const options = [...q.querySelectorAll('.option')];
          const index = options.indexOf(opt);
          options[(index - 1 + options.length) % options.length].focus();
        }
      });
    });
  });

  // Reset questions
document.getElementById('resetBtn').addEventListener('click', () => {
  questions.forEach(q => {
    delete q.dataset.answered;
    delete q.dataset.wasCorrect;
    q.dataset.wasCorrect = '0';
    clearQuestion(q);
  });
  correctCount = 0;
  answeredCount = 0;
  updateProgress();
  successMessage.classList.remove('show');
});

// Show correct answers
document.getElementById('showAnswersBtn').addEventListener('click', () => {
  questions.forEach(q => {
    const answerText = q.dataset.answer.toLowerCase();
    const options = [...q.querySelectorAll('.option')];
    const correctOption = options.find(o => o.textContent.toLowerCase() === answerText);
    if (correctOption) {
      clearQuestion(q);
      correctOption.classList.add('correct');
      if (q.dataset.answered !== '1') {
        q.dataset.answered = '1';
        answeredCount++;
      }
      if (q.dataset.wasCorrect !== '1') {
        q.dataset.wasCorrect = '1';
        correctCount++;
      }
      const explain = q.dataset.explain || '';
      q.querySelector('.feedback').innerHTML = `✅ Correct answer shown. ${explain}`;
    }
  });
  updateProgress();
});

// Timer functionality
let timerActive = false;
let secondsElapsed = 0;
let timerInterval = null;

const timerDisplay = document.getElementById('timer');
const toggleTimerBtn = document.getElementById('toggleTimerBtn');

function formatTime(sec) {
  const m = String(Math.floor(sec / 60)).padStart(2, '0');
  const s = String(sec % 60).padStart(2, '0');
  return `${m}:${s}`;
}

function updateTimer() {
  secondsElapsed++;
  timerDisplay.textContent = '⏱️ ' + formatTime(secondsElapsed);
}

toggleTimerBtn.addEventListener('click', () => {
  timerActive = !timerActive;
  toggleTimerBtn.setAttribute('aria-pressed', String(timerActive));
  toggleTimerBtn.textContent = timerActive ? 'Stop Timer' : 'Start Timer';

  if (timerActive) {
    timerInterval = setInterval(updateTimer, 1000);
  } else {
    clearInterval(timerInterval);
  }
});

// Initial call
updateProgress();

// Show table with smooth class addition
const table = document.querySelector('.comparison-table');
window.addEventListener('load', () => {
  if (table) table.classList.add('show');
});
</script>
</html>
