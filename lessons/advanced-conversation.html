<div class="lesson-content">
  <div class="lesson-header">
    <h1 class="lesson-title">Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„Ø³Ø§Ø¯Ø³: Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</h1>
    <p class="lesson-description">Ø·ÙˆØ± Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ù„Ø¯ÙŠÙƒ Ù…Ù† Ø®Ù„Ø§Ù„ Ø­ÙˆØ§Ø±Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø© ÙˆÙ…ÙˆØ§Ù‚Ù Ø­ÙŠØ§ØªÙŠØ© Ù…ØªÙ†ÙˆØ¹Ø©</p>
  </div>

  <div class="lesson-sections">
    <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ© -->
    <div class="lesson-section">
      <h2 class="section-title">
        <i class="fas fa-comments"></i>
        Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
      </h2>
      
      <div class="conversation-scenarios">
        <div class="scenario-card">
          <h3>ÙÙŠ Ø§Ù„Ù…Ø·Ø¹Ù…</h3>
          <div class="dialogue-container">
            <div class="dialogue-role waiter">
              <div class="role-name">Ø§Ù„Ù†Ø§Ø¯Ù„</div>
              <div class="dialogue-text">
                <div class="english">Good evening! Welcome to our restaurant. How many people?</div>
                <div class="arabic">Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ±! Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ Ù…Ø·Ø¹Ù…Ù†Ø§. ÙƒÙ… Ø´Ø®ØµØŸ</div>
              </div>
            </div>
            
            <div class="dialogue-role customer">
              <div class="role-name">Ø§Ù„Ø²Ø¨ÙˆÙ†</div>
              <div class="dialogue-text">
                <div class="english">Good evening. Table for two, please.</div>
                <div class="arabic">Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ±. Ø·Ø§ÙˆÙ„Ø© Ù„Ø´Ø®ØµÙŠÙ†ØŒ Ù…Ù† ÙØ¶Ù„Ùƒ.</div>
              </div>
            </div>
            
            <div class="dialogue-role waiter">
              <div class="role-name">Ø§Ù„Ù†Ø§Ø¯Ù„</div>
              <div class="dialogue-text">
                <div class="english">Follow me, please. Here's your table. Can I get you something to drink?</div>
                <div class="arabic">ØªÙØ¶Ù„ÙˆØ§ Ù…Ø¹ÙŠØŒ Ù…Ù† ÙØ¶Ù„ÙƒÙ…. Ù‡Ø°Ù‡ Ø·Ø§ÙˆÙ„ØªÙƒÙ…. Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø£Ù† Ø£Ø­Ø¶Ø± Ù„ÙƒÙ… Ø´ÙŠØ¦Ø§Ù‹ Ù„Ù„Ø´Ø±Ø¨ØŸ</div>
              </div>
            </div>
            
            <div class="dialogue-role customer">
              <div class="role-name">Ø§Ù„Ø²Ø¨ÙˆÙ†</div>
              <div class="dialogue-text">
                <div class="english">I'll have water, and she'll have orange juice, please.</div>
                <div class="arabic">Ø³Ø£ØªÙ†Ø§ÙˆÙ„ Ø§Ù„Ù…Ø§Ø¡ØŒ ÙˆÙ‡ÙŠ Ø³ØªØªÙ†Ø§ÙˆÙ„ Ø¹ØµÙŠØ± Ø¨Ø±ØªÙ‚Ø§Ù„ØŒ Ù…Ù† ÙØ¶Ù„Ùƒ.</div>
              </div>
            </div>
          </div>
          <button class="play-dialogue-btn" onclick="playDialogue('restaurant')">
            <i class="fas fa-play"></i>
            ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
          </button>
        </div>
        
        <div class="scenario-card">
          <h3>ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø±</h3>
          <div class="dialogue-container">
            <div class="dialogue-role salesperson">
              <div class="role-name">Ø§Ù„Ø¨Ø§Ø¦Ø¹</div>
              <div class="dialogue-text">
                <div class="english">Good morning! Can I help you?</div>
                <div class="arabic">ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ±! Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒØŸ</div>
              </div>
            </div>
            
            <div class="dialogue-role customer">
              <div class="role-name">Ø§Ù„Ø²Ø¨ÙˆÙ†</div>
              <div class="dialogue-text">
                <div class="english">Yes, I'm looking for a blue shirt, size medium.</div>
                <div class="arabic">Ù†Ø¹Ù…ØŒ Ø£Ø¨Ø­Ø« Ø¹Ù† Ù‚Ù…ÙŠØµ Ø£Ø²Ø±Ù‚ØŒ Ù…Ù‚Ø§Ø³ Ù…ØªÙˆØ³Ø·.</div>
              </div>
            </div>
            
            <div class="dialogue-role salesperson">
              <div class="role-name">Ø§Ù„Ø¨Ø§Ø¦Ø¹</div>
              <div class="dialogue-text">
                <div class="english">Here you are. Would you like to try it on?</div>
                <div class="arabic">Ù‡Ø§ Ù‡Ùˆ. Ù‡Ù„ ØªØ±ÙŠØ¯ Ø£Ù† ØªØ¬Ø±Ø¨Ù‡ØŸ</div>
              </div>
            </div>
            
            <div class="dialogue-role customer">
              <div class="role-name">Ø§Ù„Ø²Ø¨ÙˆÙ†</div>
              <div class="dialogue-text">
                <div class="english">Yes, please. Where's the fitting room?</div>
                <div class="arabic">Ù†Ø¹Ù…ØŒ Ù…Ù† ÙØ¶Ù„Ùƒ. Ø£ÙŠÙ† ØºØ±ÙØ© Ø§Ù„Ù‚ÙŠØ§Ø³ØŸ</div>
              </div>
            </div>
          </div>
          <button class="play-dialogue-btn" onclick="playDialogue('shopping')">
            <i class="fas fa-play"></i>
            ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
          </button>
        </div>
        
        <div class="scenario-card">
          <h3>ÙÙŠ Ø§Ù„Ù…ÙƒØªØ¨</h3>
          <div class="dialogue-container">
            <div class="dialogue-role manager">
              <div class="role-name">Ø§Ù„Ù…Ø¯ÙŠØ±</div>
              <div class="dialogue-text">
                <div class="english">Good morning, Sarah. How was your weekend?</div>
                <div class="arabic">ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ±ØŒ Ø³Ø§Ø±Ø©. ÙƒÙŠÙ ÙƒØ§Ù† Ø¹Ø·Ù„Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ØŸ</div>
              </div>
            </div>
            
            <div class="dialogue-role employee">
              <div class="role-name">Ø§Ù„Ù…ÙˆØ¸Ù</div>
              <div class="dialogue-text">
                <div class="english">Good morning! It was great, thank you. I visited my family.</div>
                <div class="arabic">ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ±! ÙƒØ§Ù†Øª Ø±Ø§Ø¦Ø¹Ø©ØŒ Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ. Ø²Ø±Øª Ø¹Ø§Ø¦Ù„ØªÙŠ.</div>
              </div>
            </div>
            
            <div class="dialogue-role manager">
              <div class="role-name">Ø§Ù„Ù…Ø¯ÙŠØ±</div>
              <div class="dialogue-text">
                <div class="english">That's nice. Are you ready for today's meeting?</div>
                <div class="arabic">Ù‡Ø°Ø§ Ø¬Ù…ÙŠÙ„. Ù‡Ù„ Ø£Ù†Øª Ù…Ø³ØªØ¹Ø¯Ø© Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ Ø§Ù„ÙŠÙˆÙ…ØŸ</div>
              </div>
            </div>
            
            <div class="dialogue-role employee">
              <div class="role-name">Ø§Ù„Ù…ÙˆØ¸Ù</div>
              <div class="dialogue-text">
                <div class="english">Yes, I've prepared the presentation. It's ready.</div>
                <div class="arabic">Ù†Ø¹Ù…ØŒ Ù„Ù‚Ø¯ Ø£Ø¹Ø¯Ø¯Øª Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…ÙŠ. Ø¥Ù†Ù‡ Ø¬Ø§Ù‡Ø².</div>
              </div>
            </div>
          </div>
          <button class="play-dialogue-btn" onclick="playDialogue('office')">
            <i class="fas fa-play"></i>
            ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
          </button>
        </div>
      </div>
    </div>

    <!-- Ù‚Ø³Ù… Ø§Ù„ØªØ¹Ø¨ÙŠØ±Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© -->
    <div class="lesson-section">
      <h2 class="section-title">
        <i class="fas fa-brain"></i>
        Ø§Ù„ØªØ¹Ø¨ÙŠØ±Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
      </h2>
      
      <div class="expressions-categories">
        <div class="expression-category">
          <h3>Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø¹Ù† Ø§Ù„Ø±Ø£ÙŠ</h3>
          <div class="expressions-list">
            <div class="expression-item">
              <div class="expression-english">I think that...</div>
              <div class="expression-arabic">Ø£Ø¹ØªÙ‚Ø¯ Ø£Ù†...</div>
              <div class="expression-example">I think that this movie is great.</div>
            </div>
            
            <div class="expression-item">
              <div class="expression-english">In my opinion...</div>
              <div class="expression-arabic">ÙÙŠ Ø±Ø£ÙŠÙŠ...</div>
              <div class="expression-example">In my opinion, the weather is perfect today.</div>
            </div>
            
            <div class="expression-item">
              <div class="expression-english">I believe...</div>
              <div class="expression-arabic">Ø£Ø¤Ù…Ù†/Ø£Ø¹ØªÙ‚Ø¯...</div>
              <div class="expression-example">I believe hard work pays off.</div>
            </div>
          </div>
        </div>
        
        <div class="expression-category">
          <h3>Ø§Ù„Ø§ØªÙØ§Ù‚ ÙˆØ§Ù„Ø§Ø®ØªÙ„Ø§Ù</h3>
          <div class="expressions-list">
            <div class="expression-item">
              <div class="expression-english">I agree with you.</div>
              <div class="expression-arabic">Ø£ØªÙÙ‚ Ù…Ø¹Ùƒ.</div>
              <div class="expression-example">I agree with you about the restaurant.</div>
            </div>
            
            <div class="expression-item">
              <div class="expression-english">I disagree.</div>
              <div class="expression-arabic">Ù„Ø§ Ø£ØªÙÙ‚.</div>
              <div class="expression-example">I disagree with that statement.</div>
            </div>
            
            <div class="expression-item">
              <div class="expression-english">You're absolutely right.</div>
              <div class="expression-arabic">Ø£Ù†Øª Ù…Ø­Ù‚ ØªÙ…Ø§Ù…Ø§Ù‹.</div>
              <div class="expression-example">You're absolutely right about the timing.</div>
            </div>
          </div>
        </div>
        
        <div class="expression-category">
          <h3>Ø·Ù„Ø¨ Ø§Ù„ØªÙˆØ¶ÙŠØ­</h3>
          <div class="expressions-list">
            <div class="expression-item">
              <div class="expression-english">Could you explain that?</div>
              <div class="expression-arabic">Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ Ø´Ø±Ø­ Ø°Ù„ÙƒØŸ</div>
              <div class="expression-example">Could you explain that process again?</div>
            </div>
            
            <div class="expression-item">
              <div class="expression-english">What do you mean?</div>
              <div class="expression-arabic">Ù…Ø§Ø°Ø§ ØªÙ‚ØµØ¯ØŸ</div>
              <div class="expression-example">What do you mean by "urgent"?</div>
            </div>
            
            <div class="expression-item">
              <div class="expression-english">I don't understand.</div>
              <div class="expression-arabic">Ù„Ø§ Ø£ÙÙ‡Ù….</div>
              <div class="expression-example">I don't understand this instruction.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ù‚Ø³Ù… Ù„Ø¹Ø¨Ø© Ù„Ø¹Ø¨ Ø§Ù„Ø£Ø¯ÙˆØ§Ø± -->
    <div class="lesson-section">
      <h2 class="section-title">
        <i class="fas fa-theater-masks"></i>
        Ù„Ø¹Ø¨Ø© Ù„Ø¹Ø¨ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
      </h2>
      
      <div class="role-play-game">
        <div class="game-instructions">
          <h3>ğŸ­ Ø§Ø®ØªØ± Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ ÙˆØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©</h3>
          <p>Ø§Ø®ØªØ± Ù…ÙˆÙ‚ÙØ§Ù‹ ÙˆØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
        </div>
        
        <div class="scenario-selector">
          <div class="scenario-option" onclick="selectScenario('doctor')">
            <div class="scenario-icon">ğŸ‘¨â€âš•ï¸</div>
            <div class="scenario-title">Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ø·Ø¨ÙŠØ¨</div>
            <div class="scenario-description">ØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ ÙˆØµÙ Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ ÙˆØ§Ù„Ø­Ø¯ÙŠØ« Ù…Ø¹ Ø§Ù„Ø·Ø¨ÙŠØ¨</div>
          </div>
          
          <div class="scenario-option" onclick="selectScenario('airport')">
            <div class="scenario-icon">âœˆï¸</div>
            <div class="scenario-title">ÙÙŠ Ø§Ù„Ù…Ø·Ø§Ø±</div>
            <div class="scenario-description">ØªØ¹Ù„Ù… ÙƒÙŠÙÙŠØ© Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ø·Ø§Ø±</div>
          </div>
          
          <div class="scenario-option" onclick="selectScenario('hotel')">
            <div class="scenario-icon">ğŸ¨</div>
            <div class="scenario-title">ÙÙŠ Ø§Ù„ÙÙ†Ø¯Ù‚</div>
            <div class="scenario-description">Ø§Ø­Ø¬Ø² ØºØ±ÙØ© ÙˆØ§Ø·Ù„Ø¨ Ø§Ù„Ø®Ø¯Ù…Ø§Øª</div>
          </div>
          
          <div class="scenario-option" onclick="selectScenario('bank')">
            <div class="scenario-icon">ğŸ¦</div>
            <div class="scenario-title">ÙÙŠ Ø§Ù„Ø¨Ù†Ùƒ</div>
            <div class="scenario-description">ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ù…ØµØ±ÙÙŠØ©</div>
          </div>
        </div>
        
        <div class="conversation-area" id="conversation-area" style="display: none;">
          <div class="conversation-header">
            <h4 id="current-scenario">Ø§Ø®ØªØ± Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ù„Ù„Ø¨Ø¯Ø¡</h4>
            <button class="reset-btn" onclick="resetConversation()">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
          </div>
          
          <div class="conversation-messages" id="conversation-messages">
          </div>
          
          <div class="conversation-input">
            <div class="suggested-responses" id="suggested-responses">
            </div>
            <textarea id="user-input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø¯Ùƒ Ù‡Ù†Ø§..."></textarea>
            <button class="send-btn" onclick="sendMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Ù‚Ø³Ù… Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© -->
    <div class="lesson-section">
      <h2 class="section-title">
        <i class="fas fa-exclamation-triangle"></i>
        Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© ÙˆØªØµØ­ÙŠØ­Ù‡Ø§
      </h2>
      
      <div class="common-mistakes">
        <div class="mistake-category">
          <h3>Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„Ø£Ø²Ù…Ù†Ø©</h3>
          <div class="mistake-examples">
            <div class="mistake-item">
              <div class="wrong">
                <span class="label">Ø®Ø·Ø£:</span>
                <span class="text">I go to school yesterday.</span>
              </div>
              <div class="correct">
                <span class="label">ØµØ­ÙŠØ­:</span>
                <span class="text">I went to school yesterday.</span>
              </div>
              <div class="explanation">Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø§Ø¶ÙŠ Ø§Ù„Ø¨Ø³ÙŠØ· Ù…Ø¹ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¯Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø§Ø¶ÙŠ</div>
            </div>
            
            <div class="mistake-item">
              <div class="wrong">
                <span class="label">Ø®Ø·Ø£:</span>
                <span class="text">I will went tomorrow.</span>
              </div>
              <div class="correct">
                <span class="label">ØµØ­ÙŠØ­:</span>
                <span class="text">I will go tomorrow.</span>
              </div>
              <div class="explanation">Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ØµØ¯Ø± Ø¨Ø¹Ø¯ will</div>
            </div>
          </div>
        </div>
        
        <div class="mistake-category">
          <h3>Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø­Ø±ÙˆÙ Ø§Ù„Ø¬Ø±</h3>
          <div class="mistake-examples">
            <div class="mistake-item">
              <div class="wrong">
                <span class="label">Ø®Ø·Ø£:</span>
                <span class="text">I'm good in English.</span>
              </div>
              <div class="correct">
                <span class="label">ØµØ­ÙŠØ­:</span>
                <span class="text">I'm good at English.</span>
              </div>
              <div class="explanation">Ø§Ø³ØªØ®Ø¯Ù… "at" Ù…Ø¹ "good" Ù„Ù„Ø­Ø¯ÙŠØ« Ø¹Ù† Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</div>
            </div>
            
            <div class="mistake-item">
              <div class="wrong">
                <span class="label">Ø®Ø·Ø£:</span>
                <span class="text">I'm agree with you.</span>
              </div>
              <div class="correct">
                <span class="label">ØµØ­ÙŠØ­:</span>
                <span class="text">I agree with you.</span>
              </div>
              <div class="explanation">"Agree" ÙØ¹Ù„ØŒ Ù„Ø§ ÙŠØ­ØªØ§Ø¬ "am/is/are"</div>
            </div>
          </div>
        </div>
        
        <div class="mistake-category">
          <h3>Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„Ù†Ø·Ù‚</h3>
          <div class="mistake-examples">
            <div class="mistake-item">
              <div class="wrong">
                <span class="label">Ø®Ø·Ø£:</span>
                <span class="text">Tree /tri/ (ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)</span>
              </div>
              <div class="correct">
                <span class="label">ØµØ­ÙŠØ­:</span>
                <span class="text">Tree /triË/ (ØµÙˆØª Ø·ÙˆÙŠÙ„)</span>
              </div>
              <div class="explanation">Ø§Ù†ØªØ¨Ù‡ Ù„Ø·ÙˆÙ„ Ø§Ù„Ø£ØµÙˆØ§Øª ÙÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ù‚Ø³Ù… Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† -->
    <div class="lesson-section">
      <h2 class="section-title">
        <i class="fas fa-pencil-alt"></i>
        Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©
      </h2>
      
      <div class="exercise-container">
        <div class="exercise-item">
          <h3>ØªÙ…Ø±ÙŠÙ† 1: Ø§Ø®ØªØ± Ø§Ù„Ø±Ø¯ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨</h3>
          <div class="exercise-question">
            <p>Ø¥Ø°Ø§ Ù‚Ø§Ù„ Ø´Ø®Øµ: "What do you think about the movie?"</p>
            <p>Ù…Ø§ Ù‡Ùˆ Ø£ÙØ¶Ù„ Ø±Ø¯ØŸ</p>
            <div class="exercise-options">
              <button class="option-btn" onclick="checkAnswer(this, false)">Yes, I do.</button>
              <button class="option-btn" onclick="checkAnswer(this, true)">I think it's great.</button>
              <button class="option-btn" onclick="checkAnswer(this, false)">I'm fine, thanks.</button>
              <button class="option-btn" onclick="checkAnswer(this, false)">Nice to meet you.</button>
            </div>
          </div>
        </div>
        
        <div class="exercise-item">
          <h3>ØªÙ…Ø±ÙŠÙ† 2: ØµØ­Ø­ Ø§Ù„Ø®Ø·Ø£</h3>
          <div class="exercise-question">
            <p>ØµØ­Ø­ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©: "I'm agree with you."</p>
            <div class="exercise-options">
              <button class="option-btn" onclick="checkAnswer(this, false)">I'm agreeing with you.</button>
              <button class="option-btn" onclick="checkAnswer(this, true)">I agree with you.</button>
              <button class="option-btn" onclick="checkAnswer(this, false)">I'm agreed with you.</button>
              <button class="option-btn" onclick="checkAnswer(this, false)">I was agree with you.</button>
            </div>
          </div>
        </div>
        
        <div class="exercise-item">
          <h3>ØªÙ…Ø±ÙŠÙ† 3: Ø§Ø®ØªØ± Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…ÙˆÙ‚Ù</h3>
          <div class="exercise-question">
            <p>ÙÙŠ Ø§Ù„Ù…Ø·Ø¹Ù…ØŒ ØªØ±ÙŠØ¯ Ø£Ù† ØªØ·Ù„Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨. Ù…Ø§Ø°Ø§ ØªÙ‚ÙˆÙ„ØŸ</p>
            <div class="exercise-options">
              <button class="option-btn" onclick="checkAnswer(this, false)">Give me money.</button>
              <button class="option-btn" onclick="checkAnswer(this, true)">Could I have the bill, please?</button>
              <button class="option-btn" onclick="checkAnswer(this, false)">I want to pay now.</button>
              <button class="option-btn" onclick="checkAnswer(this, false)">Money, please.</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="lesson-navigation">
    <button class="nav-btn prev-btn" onclick="previousLesson()">
      <i class="fas fa-arrow-right"></i>
      Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„Ø³Ø§Ø¨Ù‚
    </button>
    
    <button class="nav-btn complete-btn" onclick="completeLesson()">
      <i class="fas fa-trophy"></i>
      Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙˆØ±Ø©
    </button>
  </div>
</div>

<style>
.lesson-content {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  background: var(--bg-primary);
  border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-lg);
}

.lesson-header {
  text-align: center;
  margin-bottom: 3rem;
  padding-bottom: 2rem;
  border-bottom: 2px solid var(--border-color);
}

.lesson-title {
  font-size: 2.5rem;
  color: var(--primary-color);
  margin-bottom: 1rem;
  font-weight: 800;
}

.lesson-description {
  font-size: 1.2rem;
  color: var(--text-light);
  line-height: 1.6;
}

.lesson-section {
  margin-bottom: 3rem;
  padding: 2rem;
  background: var(--bg-secondary);
  border-radius: var(--border-radius);
  border: 1px solid var(--border-light);
}

.section-title {
  font-size: 1.8rem;
  color: var(--text-color);
  margin-bottom: 2rem;
  display: flex;
  align-items: center;
  gap: 1rem;
}

.conversation-scenarios {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 2rem;
}

.scenario-card {
  background: var(--bg-primary);
  border-radius: var(--border-radius);
  padding: 2rem;
  border: 2px solid var(--border-color);
  transition: var(--transition);
}

.scenario-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-lg);
  border-color: var(--primary-color);
}

.scenario-card h3 {
  color: var(--primary-color);
  margin-bottom: 1.5rem;
  font-size: 1.3rem;
  text-align: center;
}

.dialogue-container {
  margin-bottom: 2rem;
}

.dialogue-role {
  margin-bottom: 1rem;
  display: flex;
  align-items: flex-start;
  gap: 1rem;
}

.role-name {
  background: var(--primary-color);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: var(--border-radius);
  font-weight: 600;
  font-size: 0.9rem;
  white-space: nowrap;
  min-width: 80px;
  text-align: center;
}

.dialogue-role.customer .role-name,
.dialogue-role.employee .role-name {
  background: var(--secondary-color);
}

.dialogue-text {
  background: var(--bg-secondary);
  padding: 1rem;
  border-radius: var(--border-radius);
  border: 1px solid var(--border-light);
  flex: 1;
}

.dialogue-text .english {
  font-size: 1.1rem;
  color: var(--text-color);
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.dialogue-text .arabic {
  font-size: 1rem;
  color: var(--text-light);
}

.play-dialogue-btn {
  background: linear-gradient(135deg, var(--success-color), var(--secondary-color));
  color: white;
  border: none;
  padding: 1rem 2rem;
  border-radius: var(--border-radius);
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0 auto;
}

.play-dialogue-btn:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

.expressions-categories {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 2rem;
}

.expression-category {
  background: var(--bg-primary);
  border-radius: var(--border-radius);
  padding: 1.5rem;
  border: 2px solid var(--border-color);
}

.expression-category h3 {
  color: var(--secondary-color);
  margin-bottom: 1rem;
  font-size: 1.2rem;
  text-align: center;
}

.expressions-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.expression-item {
  background: var(--bg-secondary);
  border-radius: var(--border-radius);
  padding: 1rem;
  border: 1px solid var(--border-light);
  transition: var(--transition);
}

.expression-item:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow);
}

.expression-english {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--primary-color);
  margin-bottom: 0.5rem;
}

.expression-arabic {
  font-size: 1rem;
  color: var(--text-color);
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.expression-example {
  font-size: 0.9rem;
  color: var(--text-light);
  font-style: italic;
}

.role-play-game {
  background: var(--bg-primary);
  border-radius: var(--border-radius);
  padding: 2rem;
  border: 2px solid var(--border-color);
}

.game-instructions {
  text-align: center;
  margin-bottom: 2rem;
}

.game-instructions h3 {
  color: var(--primary-color);
  margin-bottom: 1rem;
}

.game-instructions p {
  color: var(--text-light);
}

.scenario-selector {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.scenario-option {
  background: var(--bg-secondary);
  border: 2px solid var(--border-color);
  border-radius: var(--border-radius);
  padding: 1.5rem;
  text-align: center;
  cursor: pointer;
  transition: var(--transition);
}

.scenario-option:hover {
  transform: translateY(-3px);
  border-color: var(--primary-color);
  box-shadow: var(--shadow);
}

.scenario-option.selected {
  border-color: var(--primary-color);
  background: rgba(52, 152, 219, 0.1);
}

.scenario-icon {
  font-size: 3rem;
  margin-bottom: 1rem;
}

.scenario-title {
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--text-color);
  margin-bottom: 0.5rem;
}

.scenario-description {
  font-size: 0.9rem;
  color: var(--text-light);
  line-height: 1.4;
}

.conversation-area {
  background: var(--bg-secondary);
  border-radius: var(--border-radius);
  padding: 1.5rem;
  border: 1px solid var(--border-light);
}

.conversation-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--border-light);
}

.conversation-header h4 {
  color: var(--primary-color);
  font-size: 1.2rem;
}

.reset-btn {
  background: var(--danger-color);
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: var(--border-radius);
  cursor: pointer;
  font-size: 0.9rem;
  transition: var(--transition);
}

.reset-btn:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow);
}

.conversation-messages {
  max-height: 400px;
  overflow-y: auto;
  margin-bottom: 1rem;
  padding: 1rem;
  background: var(--bg-primary);
  border-radius: var(--border-radius);
  border: 1px solid var(--border-light);
}

.message {
  margin-bottom: 1rem;
  padding: 1rem;
  border-radius: var(--border-radius);
  animation: fadeIn 0.3s ease;
}

.message.ai {
  background: var(--primary-color);
  color: white;
  margin-right: 2rem;
}

.message.user {
  background: var(--secondary-color);
  color: white;
  margin-left: 2rem;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.conversation-input {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.suggested-responses {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.suggestion-btn {
  background: var(--bg-primary);
  border: 2px solid var(--border-color);
  border-radius: var(--border-radius);
  padding: 0.5rem 1rem;
  cursor: pointer;
  font-size: 0.9rem;
  transition: var(--transition);
}

.suggestion-btn:hover {
  border-color: var(--primary-color);
  background: var(--primary-color);
  color: white;
}

#user-input {
  width: 100%;
  padding: 1rem;
  border: 2px solid var(--border-color);
  border-radius: var(--border-radius);
  font-size: 1rem;
  resize: vertical;
  min-height: 80px;
}

.send-btn {
  background: var(--primary-color);
  color: white;
  border: none;
  padding: 1rem 2rem;
  border-radius: var(--border-radius);
  cursor: pointer;
  font-size: 1rem;
  font-weight: 600;
  transition: var(--transition);
  align-self: flex-end;
}

.send-btn:hover {
  background: var(--primary-dark);
  transform: translateY(-1px);
}

.common-mistakes {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.mistake-category {
  background: var(--bg-primary);
  border-radius: var(--border-radius);
  padding: 1.5rem;
  border: 2px solid var(--border-color);
}

.mistake-category h3 {
  color: var(--danger-color);
  margin-bottom: 1rem;
  font-size: 1.2rem;
}

.mistake-examples {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.mistake-item {
  background: var(--bg-secondary);
  border-radius: var(--border-radius);
  padding: 1rem;
  border: 1px solid var(--border-light);
}

.wrong {
  margin-bottom: 0.5rem;
  padding: 0.5rem;
  background: rgba(231, 76, 60, 0.1);
  border-radius: 0.25rem;
  border-left: 4px solid var(--danger-color);
}

.correct {
  margin-bottom: 0.5rem;
  padding: 0.5rem;
  background: rgba(46, 204, 113, 0.1);
  border-radius: 0.25rem;
  border-left: 4px solid var(--success-color);
}

.label {
  font-weight: 700;
  margin-right: 0.5rem;
}

.explanation {
  font-size: 0.9rem;
  color: var(--text-light);
  font-style: italic;
  margin-top: 0.5rem;
}

.exercise-container {
  background: var(--bg-primary);
  border-radius: var(--border-radius);
  padding: 2rem;
  margin-top: 2rem;
}

.exercise-item {
  margin-bottom: 2rem;
  padding: 1.5rem;
  background: var(--bg-secondary);
  border-radius: var(--border-radius);
  border: 1px solid var(--border-light);
}

.exercise-item h3 {
  color: var(--primary-color);
  margin-bottom: 1rem;
  font-size: 1.3rem;
}

.exercise-question p {
  font-size: 1.1rem;
  margin-bottom: 1rem;
  color: var(--text-color);
}

.exercise-options {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

.option-btn {
  padding: 0.75rem 1.5rem;
  border: 2px solid var(--border-color);
  background: var(--bg-primary);
  color: var(--text-color);
  border-radius: var(--border-radius);
  cursor: pointer;
  font-size: 1rem;
  font-weight: 600;
  transition: var(--transition);
  min-width: 150px;
}

.option-btn:hover {
  border-color: var(--primary-color);
  background: var(--primary-color);
  color: white;
}

.option-btn.correct {
  background: var(--success-color);
  border-color: var(--success-color);
  color: white;
}

.option-btn.incorrect {
  background: var(--danger-color);
  border-color: var(--danger-color);
  color: white;
}

.lesson-navigation {
  display: flex;
  justify-content: space-between;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 2px solid var(--border-color);
}

.nav-btn {
  padding: 1rem 2rem;
  border: none;
  border-radius: var(--border-radius);
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.prev-btn {
  background: linear-gradient(135deg, var(--text-muted), var(--text-light));
  color: white;
}

.complete-btn {
  background: linear-gradient(135deg, var(--success-color), var(--secondary-color));
  color: white;
}

.nav-btn:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

@media (max-width: 768px) {
  .lesson-content {
    padding: 1rem;
  }
  
  .conversation-scenarios {
    grid-template-columns: 1fr;
  }
  
  .expressions-categories {
    grid-template-columns: 1fr;
  }
  
  .scenario-selector {
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  }
  
  .dialogue-role {
    flex-direction: column;
    text-align: center;
  }
  
  .exercise-options {
    flex-direction: column;
  }
  
  .lesson-navigation {
    flex-direction: column;
    gap: 1rem;
  }
  
  .conversation-header {
    flex-direction: column;
    gap: 1rem;
  }
}
</style>

<script>
let currentScenario = null;
let conversationData = {
  doctor: {
    title: "Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ø·Ø¨ÙŠØ¨",
    aiResponses: [
      "Good morning! What brings you here today?",
      "I see. How long have you been feeling this way?",
      "Any other symptoms?",
      "Let me examine you. Please sit on the bed."
    ],
    suggestions: [
      "I have a headache",
      "I feel tired",
      "My stomach hurts",
      "I can't sleep well"
    ]
  },
  airport: {
    title: "ÙÙŠ Ø§Ù„Ù…Ø·Ø§Ø±",
    aiResponses: [
      "Good morning! Can I see your passport and ticket?",
      "How many bags are you checking in?",
      "Did you pack your bags yourself?",
      "Here's your boarding pass. Gate 15, boarding at 10:30."
    ],
    suggestions: [
      "Here you are",
      "Just one bag",
      "Yes, I packed them myself",
      "Thank you very much"
    ]
  },
  hotel: {
    title: "ÙÙŠ Ø§Ù„ÙÙ†Ø¯Ù‚",
    aiResponses: [
      "Welcome to our hotel! How can I help you?",
      "Do you have a reservation?",
      "What type of room would you like?",
      "Here's your key. Room 205, second floor."
    ],
    suggestions: [
      "I'd like to book a room",
      "Yes, under John Smith",
      "A single room for two nights",
      "Thank you. Where's the elevator?"
    ]
  },
  bank: {
    title: "ÙÙŠ Ø§Ù„Ø¨Ù†Ùƒ",
    aiResponses: [
      "Good afternoon! How can I assist you today?",
      "I'll need to see your ID and account number.",
      "How much would you like to withdraw?",
      "Please enter your PIN on the keypad."
    ],
    suggestions: [
      "I'd like to withdraw money",
      "Here's my ID",
      "200 dollars, please",
      "Thank you for your help"
    ]
  }
};

function playDialogue(scenario) {
  console.log('Playing dialogue for scenario:', scenario);
  // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­ÙˆØ§Ø± ØµÙˆØªÙŠØ§Ù‹
}

function selectScenario(scenario) {
  currentScenario = scenario;
  
  // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
  document.querySelectorAll('.scenario-option').forEach(option => {
    option.classList.remove('selected');
  });
  
  // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù…Ø®ØªØ§Ø±
  event.target.closest('.scenario-option').classList.add('selected');
  
  // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
  const conversationArea = document.getElementById('conversation-area');
  conversationArea.style.display = 'block';
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
  document.getElementById('current-scenario').textContent = conversationData[scenario].title;
  
  // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
  resetConversation();
  
  // Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
  startConversation();
}

function startConversation() {
  if (!currentScenario) return;
  
  const messagesContainer = document.getElementById('conversation-messages');
  const data = conversationData[currentScenario];
  
  // Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ù…Ù† Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
  addMessage(data.aiResponses[0], 'ai');
  
  // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª
  updateSuggestions(data.suggestions);
}

function addMessage(text, sender) {
  const messagesContainer = document.getElementById('conversation-messages');
  const messageDiv = document.createElement('div');
  messageDiv.className = `message ${sender}`;
  messageDiv.textContent = text;
  messagesContainer.appendChild(messageDiv);
  messagesContainer.scrollTop = messagesContainer.scrollHeight;
}

function updateSuggestions(suggestions) {
  const suggestionsContainer = document.getElementById('suggested-responses');
  suggestionsContainer.innerHTML = '';
  
  suggestions.forEach(suggestion => {
    const btn = document.createElement('button');
    btn.className = 'suggestion-btn';
    btn.textContent = suggestion;
    btn.onclick = () => selectSuggestion(suggestion);
    suggestionsContainer.appendChild(btn);
  });
}

function selectSuggestion(text) {
  document.getElementById('user-input').value = text;
  sendMessage();
}

function sendMessage() {
  const input = document.getElementById('user-input');
  const message = input.value.trim();
  
  if (!message || !currentScenario) return;
  
  // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  addMessage(message, 'user');
  
  // Ù…Ø³Ø­ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
  input.value = '';
  
  // Ø±Ø¯ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
  setTimeout(() => {
    const data = conversationData[currentScenario];
    const messagesCount = document.querySelectorAll('.message.user').length;
    
    if (messagesCount < data.aiResponses.length) {
      addMessage(data.aiResponses[messagesCount], 'ai');
    } else {
      addMessage("Thank you for practicing with us!", 'ai');
    }
  }, 1000);
}

function resetConversation() {
  document.getElementById('conversation-messages').innerHTML = '';
  document.getElementById('user-input').value = '';
  document.getElementById('suggested-responses').innerHTML = '';
}

function checkAnswer(button, isCorrect) {
  const buttons = button.parentElement.querySelectorAll('.option-btn');
  
  buttons.forEach(btn => {
    btn.disabled = true;
    if (btn === button) {
      btn.classList.add(isCorrect ? 'correct' : 'incorrect');
    } else if (btn.onclick.toString().includes('true')) {
      btn.classList.add('correct');
    }
  });
}

function previousLesson() {
  if (window.parent && window.parent.previousLesson) {
    window.parent.previousLesson();
  }
}

function completeLesson() {
  alert('ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø¬Ù…ÙŠØ¹ Ø¯Ø±ÙˆØ³ Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„ØªÙ…Ù‡ÙŠØ¯ÙŠØ© Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©!\n\nØ§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ùƒ:\nâ€¢ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©\nâ€¢ Ø§Ù„ØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©\nâ€¢ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ');
  
  if (window.parent && window.parent.completeLesson) {
    window.parent.completeLesson();
  }
}

// Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ Ù„Ù…ÙØªØ§Ø­ Enter ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
document.addEventListener('DOMContentLoaded', function() {
  const userInput = document.getElementById('user-input');
  if (userInput) {
    userInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendMessage();
      }
    });
  }
});
</script>
